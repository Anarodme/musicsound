{"ast":null,"code":"import { catchError, map, throwError } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nexport class PodcastServiceService {\n  constructor(Http) {\n    this.Http = Http;\n    this.apiUrl = 'http://127.0.0.1:8000/';\n  }\n  //Obtener las categorías de los podcasts\n  GetAllPodcastCategories() {\n    const url = `${this.apiUrl}PodcastCategories/`;\n    return this.Http.get(url);\n  }\n  //Obtener todos los podcasts\n  GetMyPodcasts(idUser) {\n    return this.Http.get(`${this.apiUrl}api/user/${idUser}/podcasts/`);\n  }\n  // Obtener podcasts por category ID\n  getPodcastsByCategory(categoryId) {\n    const url = `${this.apiUrl}api/podcast/${categoryId}/`;\n    return this.Http.get(url).pipe();\n  }\n  // Obtener lods episodios de un podcast\n  getEpisodesByPodcastId(podcast_id) {\n    const url = `${this.apiUrl}api/podcast/${podcast_id}/episodes/`;\n    console.log('Calling API with URL:', url);\n    return this.Http.get(url).pipe(map(episodes => {\n      return episodes.map(episode => ({\n        id: episode.id,\n        episodeTitle: episode.episodeTitle,\n        duration: episode.duration,\n        episode: episode.episode,\n        description: episode.description,\n        releaseDate: episode.releaseDate,\n        live: episode.live,\n        podcast: {\n          id: episode.podcast.id,\n          podcastTitle: episode.podcast.podcastTitle,\n          category: {\n            id: episode.podcast.category.id,\n            name: episode.podcast.category.name,\n            coverImage: `${this.apiUrl}${episode.podcast.category.coverImage}`\n          },\n          coverImage: `${this.apiUrl}${episode.podcast.coverImage}`,\n          description: episode.podcast.description,\n          user: {\n            id: episode.podcast.user.id,\n            username: episode.podcast.user.username\n          },\n          releaseDate: episode.podcast.releaseDate\n        }\n      }));\n    }), catchError(error => {\n      console.error('Error fetching podcasts by category ID:', error);\n      return throwError(error);\n    }));\n  }\n  create_podcast(data) {\n    return this.Http.post(`${this.apiUrl}api/podcasts/create/`, data);\n  }\n  update_podcast(data) {\n    return this.Http.post(`${this.apiUrl}api/podcasts/update/`, data);\n  }\n  delete_podcast(idPodcast) {\n    return this.Http.delete(`${this.apiUrl}api/podcast/${idPodcast}/delete/`);\n  }\n  getPodcastsByList(data) {\n    return this.Http.post(`${this.apiUrl}api/get/podcasts/`, data);\n  }\n  static #_ = this.ɵfac = function PodcastServiceService_Factory(t) {\n    return new (t || PodcastServiceService)(i0.ɵɵinject(i1.HttpClient));\n  };\n  static #_2 = this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: PodcastServiceService,\n    factory: PodcastServiceService.ɵfac,\n    providedIn: 'root'\n  });\n}","map":{"version":3,"names":["catchError","map","throwError","PodcastServiceService","constructor","Http","apiUrl","GetAllPodcastCategories","url","get","GetMyPodcasts","idUser","getPodcastsByCategory","categoryId","pipe","getEpisodesByPodcastId","podcast_id","console","log","episodes","episode","id","episodeTitle","duration","description","releaseDate","live","podcast","podcastTitle","category","name","coverImage","user","username","error","create_podcast","data","post","update_podcast","delete_podcast","idPodcast","delete","getPodcastsByList","_","i0","ɵɵinject","i1","HttpClient","_2","factory","ɵfac","providedIn"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Services\\Podcast\\podcast-service.service.ts"],"sourcesContent":["import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { catchError, map, Observable, throwError } from 'rxjs';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class PodcastServiceService {\r\n  private apiUrl:string = 'http://127.0.0.1:8000/';\r\n\r\n  constructor(private Http:HttpClient) { }\r\n\r\n\r\n  //Obtener las categorías de los podcasts\r\n  GetAllPodcastCategories(): Observable<any> {\r\n    const url = `${this.apiUrl}PodcastCategories/`;\r\n    return this.Http.get<any>(url);\r\n\r\n  }\r\n\r\n  //Obtener todos los podcasts\r\n  GetMyPodcasts(idUser:number): Observable<any> {\r\n    return this.Http.get<any>(`${this.apiUrl}api/user/${idUser}/podcasts/`);\r\n  }\r\n\r\n    // Obtener podcasts por category ID\r\n    getPodcastsByCategory(categoryId: number): Observable<any> {\r\n      const url = `${this.apiUrl}api/podcast/${categoryId}/`;\r\n      return this.Http.get<any>(url).pipe()\r\n    \r\n    }\r\n  \r\n    // Obtener lods episodios de un podcast\r\n    getEpisodesByPodcastId(podcast_id: number): Observable<any[]> {\r\n      const url = `${this.apiUrl}api/podcast/${podcast_id}/episodes/`;\r\n      console.log('Calling API with URL:', url);\r\n      \r\n      return this.Http.get<any[]>(url).pipe(\r\n        map(episodes => {\r\n          return episodes.map(episode => ({\r\n            id: episode.id,\r\n            episodeTitle: episode.episodeTitle,\r\n            duration: episode.duration,\r\n            episode: episode.episode,\r\n            description: episode.description,\r\n            releaseDate: episode.releaseDate,\r\n            live: episode.live,\r\n            podcast: {\r\n              id: episode.podcast.id,\r\n              podcastTitle: episode.podcast.podcastTitle,\r\n              category: {\r\n                id: episode.podcast.category.id,\r\n                name: episode.podcast.category.name,\r\n                coverImage: `${this.apiUrl}${episode.podcast.category.coverImage}`\r\n              },\r\n              coverImage:  `${this.apiUrl}${episode.podcast.coverImage}`,\r\n              description: episode.podcast.description,\r\n              user: {\r\n                id: episode.podcast.user.id,\r\n                username: episode.podcast.user.username,\r\n              },\r\n              releaseDate: episode.podcast.releaseDate\r\n            }\r\n          }));\r\n        }),\r\n        catchError(error => {\r\n          console.error('Error fetching podcasts by category ID:', error);\r\n          return throwError(error);\r\n        })\r\n      );\r\n    }\r\n\r\n\r\n  create_podcast(data: any): Observable<any> {\r\n    return this.Http.post<any>(`${this.apiUrl}api/podcasts/create/`,data);\r\n  }\r\n  \r\n  update_podcast(data: any): Observable<any> {\r\n    return this.Http.post<any>(`${this.apiUrl}api/podcasts/update/`,data);\r\n  }\r\n\r\n  delete_podcast(idPodcast:number): Observable<any> {\r\n    return this.Http.delete<any>(`${this.apiUrl}api/podcast/${idPodcast}/delete/`);\r\n  }\r\n\r\n\r\n  getPodcastsByList(data:any): Observable<any> {\r\n    return this.Http.post<any>(`${this.apiUrl}api/get/podcasts/`,data);\r\n  }\r\n\r\n\r\n  \r\n}\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}