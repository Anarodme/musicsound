{"ast":null,"code":"import { HttpErrorResponse } from '@angular/common/http';\nimport { ModalComponent } from './modal/modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nconst _c0 = [\"myForm\"];\nfunction LoginComponent_span_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Formato de Usuario incorrecto!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"La contrase\\u00F1a debe contener al menos 8 caracteres!\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r5.errorMessage);\n  }\n}\nconst _c1 = function (a0, a1) {\n  return {\n    \"data-invalid\": a0,\n    \"data-valid\": a1\n  };\n};\nconst _c2 = function () {\n  return [\"/register\"];\n};\nexport class LoginComponent {\n  constructor(uService, route, dialog) {\n    this.uService = uService;\n    this.route = route;\n    this.dialog = dialog;\n    this.data = {\n      username: '',\n      password: ''\n    };\n  }\n  onSubmit() {\n    this.data.username = this.myForm.value.username;\n    this.data.password = this.myForm.value.password;\n    this.uService.loginUser(this.data).subscribe(response => {\n      this.loginError = false;\n      localStorage.removeItem('token');\n      localStorage.setItem('token', response.token);\n      localStorage.removeItem('idUser');\n      localStorage.setItem('idUser', response.user.id);\n      this.route.navigate(['']);\n    }, error => {\n      if (error instanceof HttpErrorResponse) {\n        console.log(error);\n        this.errorMessage = error.error.detail;\n        this.loginError = true;\n      } else {\n        console.error('Error inesperado:', error);\n      }\n    });\n  }\n  openModal() {\n    this.dialog.open(ModalComponent);\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    viewQuery: function LoginComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myForm = _t.first);\n      }\n    },\n    decls: 31,\n    vars: 14,\n    consts: [[1, \"container\"], [1, \"card\"], [3, \"ngSubmit\"], [\"myForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"username\"], [\"pattern\", \"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\\\.[a-zA-Z]{2,}$|^[a-zA-Z0-9._%+-]+$\", \"type\", \"text\", \"id\", \"username\", \"ngModel\", \"\", \"name\", \"username\", \"placeholder\", \"Nombre de usuario\", \"required\", \"\", 3, \"ngClass\"], [\"username\", \"ngModel\"], [4, \"ngIf\"], [\"for\", \"password\"], [\"type\", \"password\", \"minlength\", \"8\", \"id\", \"password\", \"ngModel\", \"\", \"name\", \"password\", \"placeholder\", \"Contrase\\u00F1a\", \"required\", \"\", 3, \"ngClass\"], [\"password\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn-login\", \"btn\", \"btn-primary\", 3, \"disabled\"], [1, \"forgot-password\"], [2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"line\"], [1, \"no-account\"], [3, \"routerLink\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"body\")(1, \"div\", 0)(2, \"div\", 1)(3, \"h3\");\n        i0.ɵɵtext(4, \"Inicia sesi\\u00F3n en MusicSound\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"form\", 2, 3);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_5_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelementStart(7, \"div\", 4)(8, \"label\", 5);\n        i0.ɵɵtext(9, \"Nombre de usuario\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(10, \"input\", 6, 7);\n        i0.ɵɵtemplate(12, LoginComponent_span_12_Template, 2, 0, \"span\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(13, \"div\", 4)(14, \"label\", 9);\n        i0.ɵɵtext(15, \"Contrase\\u00F1a\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"input\", 10, 11);\n        i0.ɵɵtemplate(18, LoginComponent_span_18_Template, 2, 0, \"span\", 8);\n        i0.ɵɵtemplate(19, LoginComponent_span_19_Template, 2, 1, \"span\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(20, \"button\", 12);\n        i0.ɵɵtext(21, \"Iniciar Sesi\\u00F3n\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(22, \"div\", 13)(23, \"a\", 14);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_a_click_23_listener() {\n          return ctx.openModal();\n        });\n        i0.ɵɵtext(24, \"\\u00BFHas olvidado tu contrase\\u00F1a?\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(25, \"div\", 15);\n        i0.ɵɵelementStart(26, \"div\", 16)(27, \"p\");\n        i0.ɵɵtext(28, \"\\u00BFNo tienes una cuenta? \");\n        i0.ɵɵelementStart(29, \"a\", 17);\n        i0.ɵɵtext(30, \"Reg\\u00EDstrate\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(6);\n        const _r1 = i0.ɵɵreference(11);\n        const _r3 = i0.ɵɵreference(17);\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(7, _c1, !_r1.valid && _r1.touched, _r1.valid && _r1.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r1.valid && _r1.touched);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(10, _c1, !_r3.valid && _r3.touched, _r3.valid && _r3.touched));\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", !_r3.valid && _r3.touched);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loginError);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"disabled\", !_r0.valid);\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c2));\n      }\n    },\n    dependencies: [i4.NgClass, i4.NgIf, i2.RouterLink, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.PatternValidator, i5.NgModel, i5.NgForm],\n    styles: [\"\\n\\n.container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: #1F1D1D;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    height: 100vh;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n    font-family: 'Poppins', sans-serif;\\n    background-color: #453D3D;\\n    padding: 30px;\\n    border-radius: 8px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    width: 800px;\\n    height: 700px;\\n    margin: 0 auto; \\n    display: block; \\n    \\n}\\n\\n.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    color: white;\\n    justify-content: center;\\n    font-size: 48px;\\n    font-weight: bold;\\n    padding: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 30px;\\n   \\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    color: #fff;\\n    padding: 5px;\\n    margin-left: 140px;\\n    \\n\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 460px;\\n    padding: 10px;\\n    border-radius: 5px;\\n    border: 1px solid #1F1D1D;\\n    background-color: transparent;\\n    color: #fff;\\n    margin-top: 10px;\\n    margin: 0 auto; \\n    display: block; \\n   \\n}\\n\\n.forgot-password[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n    text-align: center;\\n    color: #fff;\\n    padding: 35px;\\n}\\n\\n.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #fff;\\n    text-decoration: none;\\n}\\n\\n.btn-login[_ngcontent-%COMP%] {\\n    padding: 10px 50px;\\n    border: none;\\n    border-radius: 5px;\\n    background-color: #5551FF;\\n    color: white;\\n    cursor: pointer;\\n    margin-top: 200px;\\n    margin: 0 auto; \\n    display: block; \\n    font-weight: bold;\\n}\\n.line[_ngcontent-%COMP%]{\\n    height: 1px; \\n    background-color: #ccc; \\n    margin: 20px 0; \\n}\\n\\n.form-group[_ngcontent-%COMP%]   .data-invalid[_ngcontent-%COMP%]{\\n    border: 1px solid red;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   .data-valid[_ngcontent-%COMP%]{\\n    border: 1px solid rgb(0, 0, 0);\\n    \\n}\\n\\n\\n\\n@media (max-width: 992px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n}\\n\\n\\n\\n@media (max-width: 576px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n        height: auto;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n}\\n\\n\\n@media (max-width: 350px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n        height: auto;\\n        padding: 20px;\\n    }\\n\\n    .card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n        font-size: 36px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n\\n    .forgot-password[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%] {\\n        padding: 20px;\\n    }\\n\\n    .btn-login[_ngcontent-%COMP%] {\\n        margin-top: 20px;\\n    }\\n\\n    .line[_ngcontent-%COMP%] {\\n        margin: 10px 0;\\n    }\\n\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFFBQVE7QUFDUjtJQUNJLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix3Q0FBd0M7SUFDeEMsWUFBWTtJQUNaLGFBQWE7SUFDYixjQUFjO0lBQ2QsY0FBYzs7QUFFbEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLG1CQUFtQjs7QUFFdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCOzs7QUFHdEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsNkJBQTZCO0lBQzdCLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGNBQWM7O0FBRWxCOztBQUVBOztJQUVJLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGFBQWE7QUFDakI7O0FBRUE7O0lBRUksV0FBVztJQUNYLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjtJQUN0QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksOEJBQThCOztBQUVsQzs7QUFFQSwwQ0FBMEM7QUFDMUM7SUFDSTtRQUNJLFVBQVU7SUFDZDs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QsY0FBYztJQUNsQjtBQUNKOztBQUVBLDJDQUEyQztBQUMzQztJQUNJO1FBQ0ksVUFBVTtRQUNWLFlBQVk7SUFDaEI7O0lBRUE7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSx3QkFBd0I7UUFDeEIsY0FBYztRQUNkLGNBQWM7SUFDbEI7QUFDSjtBQUNBLDJDQUEyQztBQUMzQztJQUNJO1FBQ0ksVUFBVTtRQUNWLFlBQVk7UUFDWixhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksZUFBZTtJQUNuQjs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QsY0FBYztJQUNsQjs7SUFFQTs7UUFFSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksY0FBYztJQUNsQjs7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbIi8qTE9HSU4qL1xyXG4uY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFGMUQxRDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ1M0QzRDtcclxuICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgd2lkdGg6IDgwMHB4O1xyXG4gICAgaGVpZ2h0OiA3MDBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgIFxyXG59XHJcblxyXG4uY2FyZCBoMyB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogNDhweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgXHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsLHNwYW4ge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxNDBweDtcclxuICAgIFxyXG5cclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gICAgd2lkdGg6IDQ2MHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMxRjFEMUQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgXHJcbn1cclxuXHJcbi5mb3Jnb3QtcGFzc3dvcmQsXHJcbi5uby1hY2NvdW50IHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDM1cHg7XHJcbn1cclxuXHJcbi5mb3Jnb3QtcGFzc3dvcmQgYSxcclxuLm5vLWFjY291bnQgYSB7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmJ0bi1sb2dpbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDUwcHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1MUZGO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMjAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bzsgXHJcbiAgICBkaXNwbGF5OiBibG9jazsgXHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4ubGluZXtcclxuICAgIGhlaWdodDogMXB4OyBcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7IFxyXG4gICAgbWFyZ2luOiAyMHB4IDA7IFxyXG59XHJcblxyXG4uZm9ybS1ncm91cCAuZGF0YS1pbnZhbGlke1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCAuZGF0YS12YWxpZHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigwLCAwLCAwKTtcclxuICAgIFxyXG59XHJcblxyXG4vKiBCcmVha3BvaW50cyBwYXJhIGRpc3Bvc2l0aXZvcyBncmFuZGVzICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkge1xyXG4gICAgLmNhcmQge1xyXG4gICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tZ3JvdXAgbGFiZWwsc3BhbiB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTtcclxuICAgICAgICBtYXJnaW46IDAgYXV0bzsgXHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7IFxyXG4gICAgfVxyXG59XHJcblxyXG4vKiBCcmVha3BvaW50cyBwYXJhIGRpc3Bvc2l0aXZvcyBtZWRpYW5vcyAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcclxuICAgIC5jYXJkIHtcclxuICAgICAgICB3aWR0aDogOTAlO1xyXG4gICAgICAgIGhlaWdodDogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1ncm91cCBsYWJlbCxzcGFuIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1ncm91cCBpbnB1dCB7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpO1xyXG4gICAgICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgICAgICBkaXNwbGF5OiBibG9jazsgXHJcbiAgICB9XHJcbn1cclxuLyogQnJlYWtwb2ludHMgcGFyYSBkaXNwb3NpdGl2b3MgcGVxdWXDg8Kxb3MgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDM1MHB4KSB7XHJcbiAgICAuY2FyZCB7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAuY2FyZCBoMyB7XHJcbiAgICAgICAgZm9udC1zaXplOiAzNnB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWdyb3VwIGxhYmVsLHNwYW4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWdyb3VwIGlucHV0IHtcclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87IFxyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgIH1cclxuXHJcbiAgICAuZm9yZ290LXBhc3N3b3JkLFxyXG4gICAgLm5vLWFjY291bnQge1xyXG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1sb2dpbiB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAubGluZSB7XHJcbiAgICAgICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["HttpErrorResponse","ModalComponent","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r5","errorMessage","LoginComponent","constructor","uService","route","dialog","data","username","password","onSubmit","myForm","value","loginUser","subscribe","response","loginError","localStorage","removeItem","setItem","token","user","id","navigate","error","console","log","detail","openModal","open","_","ɵɵdirectiveInject","i1","UserService","i2","Router","i3","MatDialog","_2","selectors","viewQuery","LoginComponent_Query","rf","ctx","ɵɵlistener","LoginComponent_Template_form_ngSubmit_5_listener","ɵɵelement","ɵɵtemplate","LoginComponent_span_12_Template","LoginComponent_span_18_Template","LoginComponent_span_19_Template","LoginComponent_Template_a_click_23_listener","ɵɵproperty","ɵɵpureFunction2","_c1","_r1","valid","touched","_r3","_r0","ɵɵpureFunction0","_c2"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\login\\login.component.ts","C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\login\\login.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from 'src/app/Services/user.service';\r\nimport { ModalComponent } from './modal/modal.component';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n\r\n  errorMessage:string;\r\n  loginError:boolean;\r\n\r\n  data = {\r\n    username:'',\r\n    password:''\r\n  }\r\n\r\n  @ViewChild('myForm') myForm:NgForm;\r\n\r\n  constructor(private uService:UserService,private route:Router,private dialog: MatDialog){}\r\n\r\n  onSubmit(){\r\n    this.data.username = this.myForm.value.username;\r\n    this.data.password = this.myForm.value.password;\r\n\r\n    this.uService.loginUser(this.data).subscribe(\r\n      (response) => {\r\n        \r\n        this.loginError = false;\r\n        localStorage.removeItem('token');\r\n        localStorage.setItem('token', response.token);\r\n        localStorage.removeItem('idUser');\r\n        localStorage.setItem('idUser', response.user.id);\r\n        this.route.navigate(['']);\r\n\r\n      },\r\n      (error) => {\r\n        if (error instanceof HttpErrorResponse) {\r\n          console.log(error)\r\n          this.errorMessage = error.error.detail;\r\n          this.loginError = true;\r\n        } else {\r\n          console.error('Error inesperado:', error);\r\n        }\r\n      }\r\n    )\r\n\r\n  \r\n  }\r\n\r\n  openModal(){\r\n    this.dialog.open(ModalComponent);\r\n  }\r\n\r\n}\r\n","<body>\r\n    <div class=\"container\">\r\n        <div class=\"card\">\r\n            <h3>Inicia sesión en MusicSound</h3>\r\n            <form #myForm=\"ngForm\" (ngSubmit)=\"onSubmit()\">\r\n                <div class=\"form-group\">\r\n                    <label for=\"username\">Nombre de usuario</label>\r\n                    <input [ngClass]=\"{'data-invalid':!username.valid && username.touched,'data-valid':username.valid && username.touched}\" pattern=\"^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$|^[a-zA-Z0-9._%+-]+$\" type=\"text\"\r\n                        id=\"username\" ngModel name=\"username\" placeholder=\"Nombre de usuario\" required #username=\"ngModel\">\r\n                    <span *ngIf=\"!username.valid && username.touched\">Formato de Usuario incorrecto!</span>\r\n                </div>\r\n                <div class=\"form-group\">\r\n                    <label for=\"password\">Contraseña</label>\r\n                    <input [ngClass]=\"{'data-invalid':!password.valid && password.touched,'data-valid':password.valid && password.touched}\" type=\"password\" minlength=\"8\" id=\"password\" ngModel name=\"password\" placeholder=\"Contraseña\"\r\n                        required #password=\"ngModel\">\r\n                    <span *ngIf=\"!password.valid && password.touched\">La contraseña debe contener al menos 8 caracteres!</span>\r\n                    <span *ngIf=\"loginError\">{{errorMessage}}</span>\r\n                </div>\r\n                <button type=\"submit\" [disabled]=\"!myForm.valid\" class=\"btn-login btn btn-primary\">Iniciar Sesión</button>\r\n            </form>\r\n            <div class=\"forgot-password\">\r\n                <a style=\"cursor: pointer;\" (click)=\"openModal()\">¿Has olvidado tu contraseña?</a>\r\n                \r\n            </div>\r\n\r\n            <div class=\"line\"></div>\r\n            <div class=\"no-account\">\r\n                <p>¿No tienes una cuenta? <a [routerLink]=\"['/register']\">Regístrate</a></p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</body>\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}