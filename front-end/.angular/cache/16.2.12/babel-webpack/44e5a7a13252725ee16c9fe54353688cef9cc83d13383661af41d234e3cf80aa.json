{"ast":null,"code":"import { HttpErrorResponse } from '@angular/common/http';\nimport { ModalComponent } from './modal/modal.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/Services/user.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/dialog\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = [\"myForm\"];\nexport class LoginComponent {\n  constructor(uService, route, dialog) {\n    this.uService = uService;\n    this.route = route;\n    this.dialog = dialog;\n    this.data = {\n      username: '',\n      password: ''\n    };\n  }\n  onSubmit() {\n    this.data.username = this.myForm.value.username;\n    this.data.password = this.myForm.value.password;\n    this.uService.loginUser(this.data).subscribe(response => {\n      this.loginError = false;\n      localStorage.removeItem('token');\n      localStorage.setItem('token', response.token);\n      localStorage.removeItem('idUser');\n      localStorage.setItem('idUser', response.user.id);\n      this.route.navigate(['']);\n    }, error => {\n      if (error instanceof HttpErrorResponse) {\n        console.log(error);\n        this.errorMessage = error.error.detail;\n        this.loginError = true;\n      } else {\n        console.error('Error inesperado:', error);\n      }\n    });\n  }\n  openModal() {\n    this.dialog.open(ModalComponent);\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatDialog));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    viewQuery: function LoginComponent_Query(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵviewQuery(_c0, 5);\n      }\n      if (rf & 2) {\n        let _t;\n        i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.myForm = _t.first);\n      }\n    },\n    decls: 31,\n    vars: 0,\n    consts: [[1, \"container\"], [1, \"card\", \"mt-5\"], [1, \"text-center\"], [1, \"form\"], [1, \"form-group\"], [1, \"control-label\"], [1, \"col-sm-4\"], [1, \"form-control\"], [\"value\", \"tarjeta\"], [\"value\", \"debito\"], [\"value\", \"transferencia\"], [\"type\", \"text\", \"id\", \"cardHolder\", \"placeholder\", \"Titular de la tarjeta\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"cardNumber\", \"placeholder\", \"N\\u00FAmero de la tarjeta\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"vencimiento\", \"placeholder\", \"Fecha de vencimiento\", \"required\", \"\", 1, \"form-control\"], [\"type\", \"text\", \"id\", \"securityCode\", \"placeholder\", \"C\\u00F3digo de seguridad\", \"required\", \"\", 1, \"form-control\"], [1, \"col-sm-12\", \"text-center\"], [\"type\", \"submit\", 1, \"btn\", \"btn-info\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h2\", 2);\n        i0.ɵɵtext(3, \"Pag\\u00E1 tu plan\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"form\", 3)(5, \"div\", 4)(6, \"label\", 5);\n        i0.ɵɵtext(7, \"M\\u00E9todo de pago\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"div\", 6)(9, \"select\", 7)(10, \"option\", 8);\n        i0.ɵɵtext(11, \"Tarjeta de cr\\u00E9dito\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"option\", 9);\n        i0.ɵɵtext(13, \"D\\u00E9bito\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"option\", 10);\n        i0.ɵɵtext(15, \"Transferencia bancaria\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(16, \"div\", 4)(17, \"label\", 5);\n        i0.ɵɵtext(18, \"Datos del pago\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 6);\n        i0.ɵɵelement(20, \"input\", 11)(21, \"br\")(22, \"input\", 12)(23, \"br\")(24, \"input\", 13)(25, \"br\")(26, \"input\", 14);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(27, \"div\", 4)(28, \"div\", 15)(29, \"button\", 16);\n        i0.ɵɵtext(30, \"COMPRAR AHORA\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n    },\n    dependencies: [i4.ɵNgNoValidate, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.NgControlStatusGroup, i4.NgForm],\n    styles: [\"\\n\\n.container[_ngcontent-%COMP%] {\\n    width: 100%;\\n    background-color: #1F1D1D;\\n    display: flex;\\n    justify-content: center;\\n    align-items: center;\\n    height: 100vh;\\n}\\n\\n.card[_ngcontent-%COMP%] {\\n    font-family: 'Poppins', sans-serif;\\n    background-color: #453D3D;\\n    padding: 30px;\\n    border-radius: 8px;\\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n    width: 800px;\\n    height: 700px;\\n    margin: 0 auto; \\n    display: block; \\n    \\n}\\n\\n.card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n    color: white;\\n    justify-content: center;\\n    font-size: 48px;\\n    font-weight: bold;\\n    padding: 20px;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n    margin-bottom: 30px;\\n   \\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n    display: block;\\n    margin-bottom: 5px;\\n    color: #fff;\\n    padding: 5px;\\n    margin-left: 140px;\\n    \\n\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n    width: 460px;\\n    padding: 10px;\\n    border-radius: 5px;\\n    border: 1px solid #1F1D1D;\\n    background-color: transparent;\\n    color: #fff;\\n    margin-top: 10px;\\n    margin: 0 auto; \\n    display: block; \\n   \\n}\\n\\n.forgot-password[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%] {\\n    margin-top: 10px;\\n    text-align: center;\\n    color: #fff;\\n    padding: 35px;\\n}\\n\\n.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%]   a[_ngcontent-%COMP%] {\\n    color: #fff;\\n    text-decoration: none;\\n}\\n\\n.btn-login[_ngcontent-%COMP%] {\\n    padding: 10px 50px;\\n    border: none;\\n    border-radius: 5px;\\n    background-color: #5551FF;\\n    color: white;\\n    cursor: pointer;\\n    margin-top: 200px;\\n    margin: 0 auto; \\n    display: block; \\n    font-weight: bold;\\n}\\n.line[_ngcontent-%COMP%]{\\n    height: 1px; \\n    background-color: #ccc; \\n    margin: 20px 0; \\n}\\n\\n.form-group[_ngcontent-%COMP%]   .data-invalid[_ngcontent-%COMP%]{\\n    border: 1px solid red;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   .data-valid[_ngcontent-%COMP%]{\\n    border: 1px solid rgb(0, 0, 0);\\n    \\n}\\n\\n\\n\\n@media (max-width: 992px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n}\\n\\n\\n\\n@media (max-width: 576px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n        height: auto;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n}\\n\\n\\n@media (max-width: 350px) {\\n    .card[_ngcontent-%COMP%] {\\n        width: 90%;\\n        height: auto;\\n        padding: 20px;\\n    }\\n\\n    .card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%] {\\n        font-size: 36px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], span[_ngcontent-%COMP%] {\\n        margin-left: 20px;\\n    }\\n\\n    .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n        width: calc(100% - 40px);\\n        margin: 0 auto; \\n        display: block; \\n    }\\n\\n    .forgot-password[_ngcontent-%COMP%], .no-account[_ngcontent-%COMP%] {\\n        padding: 20px;\\n    }\\n\\n    .btn-login[_ngcontent-%COMP%] {\\n        margin-top: 20px;\\n    }\\n\\n    .line[_ngcontent-%COMP%] {\\n        margin: 10px 0;\\n    }\\n\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLFFBQVE7QUFDUjtJQUNJLFdBQVc7SUFDWCx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLHVCQUF1QjtJQUN2QixtQkFBbUI7SUFDbkIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLGtDQUFrQztJQUNsQyx5QkFBeUI7SUFDekIsYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix3Q0FBd0M7SUFDeEMsWUFBWTtJQUNaLGFBQWE7SUFDYixjQUFjO0lBQ2QsY0FBYzs7QUFFbEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osdUJBQXVCO0lBQ3ZCLGVBQWU7SUFDZixpQkFBaUI7SUFDakIsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLG1CQUFtQjs7QUFFdkI7O0FBRUE7SUFDSSxjQUFjO0lBQ2Qsa0JBQWtCO0lBQ2xCLFdBQVc7SUFDWCxZQUFZO0lBQ1osa0JBQWtCOzs7QUFHdEI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGtCQUFrQjtJQUNsQix5QkFBeUI7SUFDekIsNkJBQTZCO0lBQzdCLFdBQVc7SUFDWCxnQkFBZ0I7SUFDaEIsY0FBYztJQUNkLGNBQWM7O0FBRWxCOztBQUVBOztJQUVJLGdCQUFnQjtJQUNoQixrQkFBa0I7SUFDbEIsV0FBVztJQUNYLGFBQWE7QUFDakI7O0FBRUE7O0lBRUksV0FBVztJQUNYLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osa0JBQWtCO0lBQ2xCLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osZUFBZTtJQUNmLGlCQUFpQjtJQUNqQixjQUFjO0lBQ2QsY0FBYztJQUNkLGlCQUFpQjtBQUNyQjtBQUNBO0lBQ0ksV0FBVztJQUNYLHNCQUFzQjtJQUN0QixjQUFjO0FBQ2xCOztBQUVBO0lBQ0kscUJBQXFCO0FBQ3pCOztBQUVBO0lBQ0ksOEJBQThCOztBQUVsQzs7QUFFQSwwQ0FBMEM7QUFDMUM7SUFDSTtRQUNJLFVBQVU7SUFDZDs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QsY0FBYztJQUNsQjtBQUNKOztBQUVBLDJDQUEyQztBQUMzQztJQUNJO1FBQ0ksVUFBVTtRQUNWLFlBQVk7SUFDaEI7O0lBRUE7UUFDSSxpQkFBaUI7SUFDckI7O0lBRUE7UUFDSSx3QkFBd0I7UUFDeEIsY0FBYztRQUNkLGNBQWM7SUFDbEI7QUFDSjtBQUNBLDJDQUEyQztBQUMzQztJQUNJO1FBQ0ksVUFBVTtRQUNWLFlBQVk7UUFDWixhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksZUFBZTtJQUNuQjs7SUFFQTtRQUNJLGlCQUFpQjtJQUNyQjs7SUFFQTtRQUNJLHdCQUF3QjtRQUN4QixjQUFjO1FBQ2QsY0FBYztJQUNsQjs7SUFFQTs7UUFFSSxhQUFhO0lBQ2pCOztJQUVBO1FBQ0ksZ0JBQWdCO0lBQ3BCOztJQUVBO1FBQ0ksY0FBYztJQUNsQjs7QUFFSiIsInNvdXJjZXNDb250ZW50IjpbIi8qTE9HSU4qL1xyXG4uY29udGFpbmVyIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFGMUQxRDtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBoZWlnaHQ6IDEwMHZoO1xyXG59XHJcblxyXG4uY2FyZCB7XHJcbiAgICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzQ1M0QzRDtcclxuICAgIHBhZGRpbmc6IDMwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA4cHg7XHJcbiAgICBib3gtc2hhZG93OiAwIDRweCA4cHggcmdiYSgwLCAwLCAwLCAwLjEpO1xyXG4gICAgd2lkdGg6IDgwMHB4O1xyXG4gICAgaGVpZ2h0OiA3MDBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgIFxyXG59XHJcblxyXG4uY2FyZCBoMyB7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogNDhweDtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgcGFkZGluZzogMjBweDtcclxufVxyXG5cclxuLmZvcm0tZ3JvdXAge1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMzBweDtcclxuICAgXHJcbn1cclxuXHJcbi5mb3JtLWdyb3VwIGxhYmVsLHNwYW4ge1xyXG4gICAgZGlzcGxheTogYmxvY2s7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA1cHg7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICAgIG1hcmdpbi1sZWZ0OiAxNDBweDtcclxuICAgIFxyXG5cclxufVxyXG5cclxuLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gICAgd2lkdGg6IDQ2MHB4O1xyXG4gICAgcGFkZGluZzogMTBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICMxRjFEMUQ7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG4gICAgbWFyZ2luLXRvcDogMTBweDtcclxuICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgXHJcbn1cclxuXHJcbi5mb3Jnb3QtcGFzc3dvcmQsXHJcbi5uby1hY2NvdW50IHtcclxuICAgIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHBhZGRpbmc6IDM1cHg7XHJcbn1cclxuXHJcbi5mb3Jnb3QtcGFzc3dvcmQgYSxcclxuLm5vLWFjY291bnQgYSB7XHJcbiAgICBjb2xvcjogI2ZmZjtcclxuICAgIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcclxufVxyXG5cclxuLmJ0bi1sb2dpbiB7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDUwcHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1MUZGO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG4gICAgbWFyZ2luLXRvcDogMjAwcHg7XHJcbiAgICBtYXJnaW46IDAgYXV0bzsgXHJcbiAgICBkaXNwbGF5OiBibG9jazsgXHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufVxyXG4ubGluZXtcclxuICAgIGhlaWdodDogMXB4OyBcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICNjY2M7IFxyXG4gICAgbWFyZ2luOiAyMHB4IDA7IFxyXG59XHJcblxyXG4uZm9ybS1ncm91cCAuZGF0YS1pbnZhbGlke1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xyXG59XHJcblxyXG4uZm9ybS1ncm91cCAuZGF0YS12YWxpZHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJnYigwLCAwLCAwKTtcclxuICAgIFxyXG59XHJcblxyXG4vKiBCcmVha3BvaW50cyBwYXJhIGRpc3Bvc2l0aXZvcyBncmFuZGVzICovXHJcbkBtZWRpYSAobWF4LXdpZHRoOiA5OTJweCkge1xyXG4gICAgLmNhcmQge1xyXG4gICAgICAgIHdpZHRoOiA5MCU7XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tZ3JvdXAgbGFiZWwsc3BhbiB7XHJcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmZvcm0tZ3JvdXAgaW5wdXQge1xyXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSA0MHB4KTtcclxuICAgICAgICBtYXJnaW46IDAgYXV0bzsgXHJcbiAgICAgICAgZGlzcGxheTogYmxvY2s7IFxyXG4gICAgfVxyXG59XHJcblxyXG4vKiBCcmVha3BvaW50cyBwYXJhIGRpc3Bvc2l0aXZvcyBtZWRpYW5vcyAqL1xyXG5AbWVkaWEgKG1heC13aWR0aDogNTc2cHgpIHtcclxuICAgIC5jYXJkIHtcclxuICAgICAgICB3aWR0aDogOTAlO1xyXG4gICAgICAgIGhlaWdodDogYXV0bztcclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1ncm91cCBsYWJlbCxzcGFuIHtcclxuICAgICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAuZm9ybS1ncm91cCBpbnB1dCB7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpO1xyXG4gICAgICAgIG1hcmdpbjogMCBhdXRvOyBcclxuICAgICAgICBkaXNwbGF5OiBibG9jazsgXHJcbiAgICB9XHJcbn1cclxuLyogQnJlYWtwb2ludHMgcGFyYSBkaXNwb3NpdGl2b3MgcGVxdWXDg8Kxb3MgKi9cclxuQG1lZGlhIChtYXgtd2lkdGg6IDM1MHB4KSB7XHJcbiAgICAuY2FyZCB7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICBoZWlnaHQ6IGF1dG87XHJcbiAgICAgICAgcGFkZGluZzogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAuY2FyZCBoMyB7XHJcbiAgICAgICAgZm9udC1zaXplOiAzNnB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWdyb3VwIGxhYmVsLHNwYW4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAyMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC5mb3JtLWdyb3VwIGlucHV0IHtcclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gNDBweCk7XHJcbiAgICAgICAgbWFyZ2luOiAwIGF1dG87IFxyXG4gICAgICAgIGRpc3BsYXk6IGJsb2NrOyBcclxuICAgIH1cclxuXHJcbiAgICAuZm9yZ290LXBhc3N3b3JkLFxyXG4gICAgLm5vLWFjY291bnQge1xyXG4gICAgICAgIHBhZGRpbmc6IDIwcHg7XHJcbiAgICB9XHJcblxyXG4gICAgLmJ0bi1sb2dpbiB7XHJcbiAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIH1cclxuXHJcbiAgICAubGluZSB7XHJcbiAgICAgICAgbWFyZ2luOiAxMHB4IDA7XHJcbiAgICB9XHJcblxyXG59XHJcbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["HttpErrorResponse","ModalComponent","LoginComponent","constructor","uService","route","dialog","data","username","password","onSubmit","myForm","value","loginUser","subscribe","response","loginError","localStorage","removeItem","setItem","token","user","id","navigate","error","console","log","errorMessage","detail","openModal","open","_","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","i3","MatDialog","_2","selectors","viewQuery","LoginComponent_Query","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\login\\login.component.ts","C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\login\\login.component.html"],"sourcesContent":["import { HttpErrorResponse } from '@angular/common/http';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { NgForm } from '@angular/forms';\r\nimport { MatDialog } from '@angular/material/dialog';\r\nimport { Router } from '@angular/router';\r\nimport { UserService } from 'src/app/Services/user.service';\r\nimport { ModalComponent } from './modal/modal.component';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent {\r\n\r\n  errorMessage:string;\r\n  loginError:boolean;\r\n\r\n  data = {\r\n    username:'',\r\n    password:''\r\n  }\r\n\r\n  @ViewChild('myForm') myForm:NgForm;\r\n\r\n  constructor(private uService:UserService,private route:Router,private dialog: MatDialog){}\r\n\r\n  onSubmit(){\r\n    this.data.username = this.myForm.value.username;\r\n    this.data.password = this.myForm.value.password;\r\n\r\n    this.uService.loginUser(this.data).subscribe(\r\n      (response) => {\r\n        \r\n        this.loginError = false;\r\n        localStorage.removeItem('token');\r\n        localStorage.setItem('token', response.token);\r\n        localStorage.removeItem('idUser');\r\n        localStorage.setItem('idUser', response.user.id);\r\n        this.route.navigate(['']);\r\n\r\n      },\r\n      (error) => {\r\n        if (error instanceof HttpErrorResponse) {\r\n          console.log(error)\r\n          this.errorMessage = error.error.detail;\r\n          this.loginError = true;\r\n        } else {\r\n          console.error('Error inesperado:', error);\r\n        }\r\n      }\r\n    )\r\n\r\n  \r\n  }\r\n\r\n  openModal(){\r\n    this.dialog.open(ModalComponent);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n    <div class=\"card mt-5\">\r\n        <h2 class=\"text-center\">Pagá tu plan</h2>\r\n        <form class=\"form\">\r\n            <div class=\"form-group\">\r\n                <label class=\"control-label\">Método de pago</label>\r\n                <div class=\"col-sm-4\">\r\n                    <select class=\"form-control\">\r\n                        <option value=\"tarjeta\">Tarjeta de crédito</option>\r\n                        <option value=\"debito\">Débito</option>\r\n                        <option value=\"transferencia\">Transferencia bancaria</option>\r\n                    </select>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <label class=\"control-label\">Datos del pago</label>\r\n                <div class=\"col-sm-4\">\r\n                    <input type=\"text\" class=\"form-control\" id=\"cardHolder\" placeholder=\"Titular de la tarjeta\"\r\n                        required>\r\n                    <br>\r\n                    <input type=\"text\" class=\"form-control\" id=\"cardNumber\" placeholder=\"Número de la tarjeta\" required>\r\n                    <br>\r\n                    <input type=\"text\" class=\"form-control\" id=\"vencimiento\" placeholder=\"Fecha de vencimiento\"\r\n                        required>\r\n                    <br>\r\n                    <input type=\"text\" class=\"form-control\" id=\"securityCode\" placeholder=\"Código de seguridad\"\r\n                        required>\r\n                </div>\r\n            </div>\r\n            <div class=\"form-group\">\r\n                <div class=\"col-sm-12 text-center\">\r\n                    <button type=\"submit\" class=\"btn btn-info\">COMPRAR AHORA</button>\r\n                </div>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}