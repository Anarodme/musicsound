{"ast":null,"code":"import { __decorate } from \"tslib\";\nexport let PlayerControlsComponent = class PlayerControlsComponent {\n  constructor(mediaService) {\n    this.mediaService = mediaService;\n    this.songs = [];\n    this.playIcon = 'fa-play';\n    this.isPlaying = false;\n  }\n  ngOnInit() {\n    this.setupAudioEvents();\n    this.currentSongSubscription = this.mediaService.currentSong$.subscribe(song => {\n      if (song) {\n        this.resetPlayer();\n        this.selectSong(song);\n        this.printNextAndPreviousSongs();\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.audioPlayer.nativeElement.removeEventListener('ended', this.handleEnded.bind(this));\n    this.audioPlayer.nativeElement.removeEventListener('timeupdate', this.handleTimeUpdate.bind(this));\n    clearInterval(this.progressInterval);\n  }\n  ngOnChanges(changes) {\n    if (changes.songs && !changes.songs.firstChange) {\n      this.selectedSong = this.songs[0]; // Set the first song as the selected song\n      this.printNextAndPreviousSongs();\n    }\n  }\n  setupAudioEvents() {\n    this.audioPlayer.nativeElement.addEventListener('ended', this.handleEnded.bind(this));\n    this.audioPlayer.nativeElement.addEventListener('timeupdate', this.handleTimeUpdate.bind(this));\n  }\n  resetPlayer() {\n    this.pause();\n    this.audioPlayer.nativeElement.currentTime = 0;\n  }\n  handleEnded() {\n    console.log('Canción actual terminada, reproduciendo la siguiente...');\n    this.play_next_song();\n  }\n  loadAudio(audioUrl) {\n    return new Promise(resolve => {\n      console.log('Cargando audio:', audioUrl);\n      if (this.audioPlayer && this.audioPlayer.nativeElement) {\n        this.audioPlayer.nativeElement.src = audioUrl;\n        this.audioPlayer.nativeElement.load();\n        this.audioPlayer.nativeElement.onloadeddata = () => {\n          resolve();\n        };\n      }\n    });\n  }\n  play() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      const playPromise = this.audioPlayer.nativeElement.play();\n      if (playPromise !== undefined) {\n        playPromise.then(_ => {\n          this.updatePlayIcon();\n          this.isPlaying = true;\n          this.startProgressInterval();\n        }).catch(error => {\n          console.error('Error al reproducir el audio:', error);\n        });\n      }\n    }\n  }\n  pause() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      this.audioPlayer.nativeElement.pause();\n      this.updatePlayIcon();\n      this.isPlaying = false;\n      clearInterval(this.progressInterval);\n    }\n  }\n  togglePlayPause() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      if (this.audioPlayer.nativeElement.paused) {\n        this.play();\n      } else {\n        this.pause();\n      }\n    }\n  }\n  selectSong(song) {\n    this.selectedSong = song;\n    this.loadAudio(song.audio).then(() => {\n      this.play();\n    }).catch(error => {\n      console.error('Error al cargar el audio:', error);\n    });\n  }\n  printNextAndPreviousSongs() {\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\n      const currentIndex = this.songs.findIndex(song => song.id === this.selectedSong.id);\n      const previousIndex = (currentIndex - 1 + this.songs.length) % this.songs.length;\n      const nextIndex = (currentIndex + 1) % this.songs.length;\n      const previousSong = this.songs[previousIndex];\n      const nextSong = this.songs[nextIndex];\n      console.log('Canción actual:', this.selectedSong);\n      console.log('Canción anterior:', previousSong);\n      console.log('Siguiente canción:', nextSong);\n    }\n  }\n  play_next_song() {\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\n      const currentIndex = this.songs.findIndex(song => song.id === this.selectedSong.id);\n      const nextIndex = (currentIndex + 1) % this.songs.length;\n      const nextSong = this.songs[nextIndex];\n      if (nextSong) {\n        console.log('Siguiente canción:', nextSong);\n        this.selectSong(nextSong);\n      } else {\n        console.log('¡La siguiente canción es indefinida!');\n        this.resetPlayer();\n      }\n    }\n  }\n  play_previous_song() {\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\n      const currentIndex = this.songs.findIndex(song => song.id === this.selectedSong.id);\n      const previousIndex = (currentIndex - 1 + this.songs.length) % this.songs.length;\n      const previousSong = this.songs[previousIndex];\n      if (previousSong) {\n        console.log('Canción anterior:', previousSong);\n        this.selectSong(previousSong);\n      } else {\n        console.log('¡La canción anterior es indefinida!');\n        this.resetPlayer();\n      }\n    }\n  }\n  handleTimeUpdate() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      const progress = this.audioPlayer.nativeElement.currentTime / this.audioPlayer.nativeElement.duration * 100;\n      const progressBar = document.getElementById('progressBar');\n      if (progressBar) {\n        progressBar.value = progress.toString();\n      }\n      this.updatePlayIcon();\n      this.updateTimeDisplay();\n    }\n  }\n  updatePlayIcon() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      const isPlaying = !this.audioPlayer.nativeElement.paused;\n      const newPlayIcon = isPlaying ? 'fa-pause' : 'fa-play';\n      this.playIcon = newPlayIcon;\n      this.isPlaying = isPlaying;\n    }\n  }\n  updateTimeDisplay() {\n    if (this.audioPlayer && this.audioPlayer.nativeElement && this.audioPlayer.nativeElement.currentTime !== undefined && this.audioPlayer.nativeElement.duration !== undefined) {\n      const timeLeft = document.querySelector('.time-left');\n      const timeRight = document.querySelector('.time-right');\n      if (timeLeft && timeRight) {\n        timeLeft.textContent = this.formatTime(this.audioPlayer.nativeElement.currentTime);\n        timeRight.textContent = this.formatTime(this.audioPlayer.nativeElement.duration);\n      }\n    }\n  }\n  handleProgressBar(event) {\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\n      const progress = event.target.value;\n      const duration = this.audioPlayer.nativeElement.duration;\n      if (!isNaN(duration) && isFinite(duration)) {\n        const newTime = duration * progress / 100;\n        if (!isNaN(newTime) && isFinite(newTime)) {\n          this.audioPlayer.nativeElement.currentTime = newTime;\n        }\n      }\n    }\n  }\n  formatTime(seconds) {\n    const minutes = Math.floor(seconds / 60);\n    const remainingSeconds = Math.floor(seconds % 60);\n    return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;\n  }\n  startProgressInterval() {\n    clearInterval(this.progressInterval);\n    this.progressInterval = setInterval(() => {\n      if (this.audioPlayer && this.audioPlayer.nativeElement) {\n        const progress = this.audioPlayer.nativeElement.currentTime / this.audioPlayer.nativeElement.duration * 100;\n        const progressBar = document.getElementById('progressBar');\n        if (progressBar) {\n          progressBar.value = progress.toString();\n        }\n      }\n    }, 1000);\n  }\n};\n__decorate([ViewChild('audioPlayer', {\n  static: true\n})], PlayerControlsComponent.prototype, \"audioPlayer\", void 0);\n__decorate([Input()], PlayerControlsComponent.prototype, \"selectedSong\", void 0);\n__decorate([Input()], PlayerControlsComponent.prototype, \"songs\", void 0);\nPlayerControlsComponent = __decorate([Component({\n  selector: 'app-player-controls',\n  templateUrl: './player-controls.component.html',\n  styleUrls: ['./player-controls.component.css']\n})], PlayerControlsComponent);","map":{"version":3,"names":["PlayerControlsComponent","constructor","mediaService","songs","playIcon","isPlaying","ngOnInit","setupAudioEvents","currentSongSubscription","currentSong$","subscribe","song","resetPlayer","selectSong","printNextAndPreviousSongs","ngOnDestroy","audioPlayer","nativeElement","removeEventListener","handleEnded","bind","handleTimeUpdate","clearInterval","progressInterval","ngOnChanges","changes","firstChange","selectedSong","addEventListener","pause","currentTime","console","log","play_next_song","loadAudio","audioUrl","Promise","resolve","src","load","onloadeddata","play","playPromise","undefined","then","_","updatePlayIcon","startProgressInterval","catch","error","togglePlayPause","paused","audio","length","currentIndex","findIndex","id","previousIndex","nextIndex","previousSong","nextSong","play_previous_song","progress","duration","progressBar","document","getElementById","value","toString","updateTimeDisplay","newPlayIcon","timeLeft","querySelector","timeRight","textContent","formatTime","handleProgressBar","event","target","isNaN","isFinite","newTime","seconds","minutes","Math","floor","remainingSeconds","setInterval","__decorate","ViewChild","static","Input","Component","selector","templateUrl","styleUrls"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\player-controls\\player-controls.component.ts"],"sourcesContent":["@Component({\r\n  selector: 'app-player-controls',\r\n  templateUrl: './player-controls.component.html',\r\n  styleUrls: ['./player-controls.component.css'],\r\n})\r\nexport class PlayerControlsComponent implements OnInit, OnDestroy, OnChanges {\r\n  @ViewChild('audioPlayer', { static: true })\r\n  audioPlayer!: ElementRef<HTMLAudioElement>;\r\n\r\n  @Input() selectedSong: any;\r\n  @Input() songs: any[] = [];\r\n\r\n  currentSongSubscription: Subscription;\r\n  playIcon: string = 'fa-play';\r\n  isPlaying: boolean = false;\r\n  progressInterval: any;\r\n\r\n  constructor(private mediaService: MediaService) {}\r\n\r\n  ngOnInit() {\r\n    this.setupAudioEvents();\r\n\r\n    this.currentSongSubscription = this.mediaService.currentSong$.subscribe(\r\n      (song) => {\r\n        if (song) {\r\n          this.resetPlayer();\r\n          this.selectSong(song);\r\n          this.printNextAndPreviousSongs();\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.audioPlayer.nativeElement.removeEventListener(\r\n      'ended',\r\n      this.handleEnded.bind(this)\r\n    );\r\n    this.audioPlayer.nativeElement.removeEventListener(\r\n      'timeupdate',\r\n      this.handleTimeUpdate.bind(this)\r\n    );\r\n    clearInterval(this.progressInterval);\r\n  }\r\n\r\n  ngOnChanges(changes: SimpleChanges) {\r\n    if (changes.songs && !changes.songs.firstChange) {\r\n      this.selectedSong = this.songs[0]; // Set the first song as the selected song\r\n      this.printNextAndPreviousSongs();\r\n    }\r\n  }\r\n\r\n  setupAudioEvents() {\r\n    this.audioPlayer.nativeElement.addEventListener('ended', this.handleEnded.bind(this));\r\n    this.audioPlayer.nativeElement.addEventListener('timeupdate', this.handleTimeUpdate.bind(this));\r\n  }\r\n\r\n  resetPlayer() {\r\n    this.pause();\r\n    this.audioPlayer.nativeElement.currentTime = 0;\r\n  }\r\n\r\n  handleEnded() {\r\n    console.log('Canción actual terminada, reproduciendo la siguiente...');\r\n    this.play_next_song();\r\n  }\r\n\r\n  loadAudio(audioUrl: string): Promise<void> {\r\n    return new Promise((resolve) => {\r\n      console.log('Cargando audio:', audioUrl);\r\n\r\n      if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n        this.audioPlayer.nativeElement.src = audioUrl;\r\n        this.audioPlayer.nativeElement.load();\r\n        this.audioPlayer.nativeElement.onloadeddata = () => {\r\n          resolve();\r\n        };\r\n      }\r\n    });\r\n  }\r\n\r\n  play() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      const playPromise = this.audioPlayer.nativeElement.play();\r\n\r\n      if (playPromise !== undefined) {\r\n        playPromise.then(_ => {\r\n          this.updatePlayIcon();\r\n          this.isPlaying = true;\r\n          this.startProgressInterval();\r\n        })\r\n        .catch(error => {\r\n          console.error('Error al reproducir el audio:', error);\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  pause() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      this.audioPlayer.nativeElement.pause();\r\n      this.updatePlayIcon();\r\n      this.isPlaying = false;\r\n      clearInterval(this.progressInterval);\r\n    }\r\n  }\r\n\r\n  togglePlayPause() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      if (this.audioPlayer.nativeElement.paused) {\r\n        this.play();\r\n      } else {\r\n        this.pause();\r\n      }\r\n    }\r\n  }\r\n\r\n  selectSong(song: any) {\r\n    this.selectedSong = song;\r\n    this.loadAudio(song.audio).then(() => {\r\n      this.play();\r\n    }).catch(error => {\r\n      console.error('Error al cargar el audio:', error);\r\n    });\r\n  }\r\n\r\n  printNextAndPreviousSongs() {\r\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\r\n      const currentIndex = this.songs.findIndex(\r\n        (song) => song.id === this.selectedSong.id\r\n      );\r\n\r\n      const previousIndex = (currentIndex - 1 + this.songs.length) % this.songs.length;\r\n      const nextIndex = (currentIndex + 1) % this.songs.length;\r\n\r\n      const previousSong = this.songs[previousIndex];\r\n      const nextSong = this.songs[nextIndex];\r\n\r\n      console.log('Canción actual:', this.selectedSong);\r\n      console.log('Canción anterior:', previousSong);\r\n      console.log('Siguiente canción:', nextSong);\r\n    }\r\n  }\r\n\r\n  play_next_song() {\r\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\r\n      const currentIndex = this.songs.findIndex(\r\n        (song) => song.id === this.selectedSong.id\r\n      );\r\n      const nextIndex = (currentIndex + 1) % this.songs.length;\r\n      const nextSong = this.songs[nextIndex];\r\n      if (nextSong) {\r\n        console.log('Siguiente canción:', nextSong);\r\n        this.selectSong(nextSong);\r\n      } else {\r\n        console.log('¡La siguiente canción es indefinida!');\r\n        this.resetPlayer();\r\n      }\r\n    }\r\n  }\r\n\r\n  play_previous_song() {\r\n    if (this.songs && this.songs.length > 0 && this.selectedSong) {\r\n      const currentIndex = this.songs.findIndex(\r\n        (song) => song.id === this.selectedSong.id\r\n      );\r\n      const previousIndex = (currentIndex - 1 + this.songs.length) % this.songs.length;\r\n      const previousSong = this.songs[previousIndex];\r\n      if (previousSong) {\r\n        console.log('Canción anterior:', previousSong);\r\n        this.selectSong(previousSong);\r\n      } else {\r\n        console.log('¡La canción anterior es indefinida!');\r\n        this.resetPlayer();\r\n      }\r\n    }\r\n  }\r\n\r\n  handleTimeUpdate() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      const progress = (this.audioPlayer.nativeElement.currentTime / this.audioPlayer.nativeElement.duration) * 100;\r\n      const progressBar = document.getElementById('progressBar') as HTMLInputElement;\r\n      if (progressBar) {\r\n        progressBar.value = progress.toString();\r\n      }\r\n      this.updatePlayIcon();\r\n      this.updateTimeDisplay();\r\n    }\r\n  }\r\n\r\n  updatePlayIcon() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      const isPlaying = !this.audioPlayer.nativeElement.paused;\r\n      const newPlayIcon = isPlaying ? 'fa-pause' : 'fa-play';\r\n      this.playIcon = newPlayIcon;\r\n      this.isPlaying = isPlaying;\r\n    }\r\n  }\r\n\r\n  updateTimeDisplay() {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement && this.audioPlayer.nativeElement.currentTime !== undefined && this.audioPlayer.nativeElement.duration !== undefined) {\r\n      const timeLeft = document.querySelector('.time-left');\r\n      const timeRight = document.querySelector('.time-right');\r\n      if (timeLeft && timeRight) {\r\n        timeLeft.textContent = this.formatTime(this.audioPlayer.nativeElement.currentTime);\r\n        timeRight.textContent = this.formatTime(this.audioPlayer.nativeElement.duration);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleProgressBar(event: any) {\r\n    if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n      const progress = event.target.value;\r\n      const duration = this.audioPlayer.nativeElement.duration;\r\n\r\n      if (!isNaN(duration) && isFinite(duration)) {\r\n        const newTime = (duration * progress) / 100;\r\n        if (!isNaN(newTime) && isFinite(newTime)) {\r\n          this.audioPlayer.nativeElement.currentTime = newTime;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  formatTime(seconds: number): string {\r\n    const minutes = Math.floor(seconds / 60);\r\n    const remainingSeconds = Math.floor(seconds % 60);\r\n    return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;\r\n  }\r\n\r\n  startProgressInterval() {\r\n    clearInterval(this.progressInterval);\r\n    this.progressInterval = setInterval(() => {\r\n      if (this.audioPlayer && this.audioPlayer.nativeElement) {\r\n        const progress = (this.audioPlayer.nativeElement.currentTime / this.audioPlayer.nativeElement.duration) * 100;\r\n        const progressBar = document.getElementById('progressBar') as HTMLInputElement;\r\n        if (progressBar) {\r\n          progressBar.value = progress.toString();\r\n        }\r\n      }\r\n    }, 1000);\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}