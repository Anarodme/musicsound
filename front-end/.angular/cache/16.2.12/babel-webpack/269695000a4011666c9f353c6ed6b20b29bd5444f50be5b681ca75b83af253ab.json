{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/Playlist/playlist.service\";\nimport * as i3 from \"src/app/Services/player-control/media.service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"../../player-controls/player-controls.component\";\nfunction SongsPlaylistComponent_div_1_div_9_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"div\", 15);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementStart(3, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function SongsPlaylistComponent_div_1_div_9_div_13_Template_button_click_3_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const song_r4 = restoredCtx.$implicit;\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.playSong(song_r4));\n    });\n    i0.ɵɵelement(4, \"span\", 17);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"div\", 11);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 11);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"div\", 11);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 11);\n    i0.ɵɵelement(12, \"span\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"div\", 11)(14, \"button\", 19);\n    i0.ɵɵlistener(\"click\", function SongsPlaylistComponent_div_1_div_9_div_13_Template_button_click_14_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r7);\n      const song_r4 = restoredCtx.$implicit;\n      const ctx_r8 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r8.removeSong(song_r4));\n    });\n    i0.ɵɵelement(15, \"i\", 20);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const song_r4 = ctx.$implicit;\n    const i_r5 = ctx.index;\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i_r5 + 1, \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(song_r4.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(song_r4.artist == null ? null : song_r4.artist.artistName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r3.formatMM_SS(song_r4.duration));\n  }\n}\nfunction SongsPlaylistComponent_div_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"div\", 10)(2, \"div\", 11);\n    i0.ɵɵtext(3, \"#\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 11);\n    i0.ɵɵtext(5, \"T\\u00EDtulo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 11);\n    i0.ɵɵtext(7, \"Artista\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 11);\n    i0.ɵɵtext(9, \"Duraci\\u00F3n\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"div\", 11);\n    i0.ɵɵelement(11, \"i\", 12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(12, \"div\", 11);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(13, SongsPlaylistComponent_div_1_div_9_div_13_Template, 16, 4, \"div\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.playlist.songs);\n  }\n}\nfunction SongsPlaylistComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 3)(1, \"section\", 4)(2, \"header\", 5);\n    i0.ɵɵelement(3, \"img\", 6);\n    i0.ɵɵelementStart(4, \"div\", 7)(5, \"h1\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()()()();\n    i0.ɵɵtemplate(9, SongsPlaylistComponent_div_1_div_9_Template, 14, 1, \"div\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"src\", ctx_r0.playlist.coverImage, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.playlist.playlistName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"Duraci\\u00F3n total: \", ctx_r0.formatDuration(ctx_r0.totalDurationInSeconds), \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.playlist.songs && ctx_r0.playlist.songs.length > 0);\n  }\n}\nfunction SongsPlaylistComponent_app_player_controls_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-player-controls\", 21);\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"selectedSong\", ctx_r1.selectedSong)(\"songs\", ctx_r1.playlist == null ? null : ctx_r1.playlist.songs)(\"showControls\", ctx_r1.showPlayerControls)(\"mediaType\", \"audio\");\n  }\n}\nexport class SongsPlaylistComponent {\n  constructor(route, playlistService, mediaService) {\n    this.route = route;\n    this.playlistService = playlistService;\n    this.mediaService = mediaService;\n    this.selectedSong = null;\n    this.totalDurationInSeconds = 0;\n  }\n  ngOnInit() {\n    this.route.paramMap.subscribe(params => {\n      this.playlistId = +params.get('playlistId');\n      if (this.playlistId) {\n        this.fetchPlaylist(this.playlistId);\n      }\n    });\n    this.mediaService.currentSong$.subscribe(song => {\n      this.selectedSong = song;\n    });\n  }\n  // Fetch playlist by playlistId\n  fetchPlaylist(playlistId) {\n    this.playlistService.getPlaylist(playlistId).subscribe(data => {\n      this.playlist = {\n        id: data.id,\n        playlistName: data.playlistName,\n        coverImage: data.coverImage,\n        totalDuration: data.totalDuration,\n        songs: data.songs.map(song => ({\n          id: song.id,\n          title: song.title,\n          duration: song.duration,\n          audio: song.audio,\n          artist: {\n            artistName: song.artist.artistName,\n            coverImage: song.artist.coverImage\n          }\n        }))\n      };\n      // Calcular la duración total en segundos\n      this.totalDurationInSeconds = this.formatHH_MM_SS(this.playlist.songs);\n    }, error => {\n      console.error('Error fetching playlist:', error);\n    });\n  }\n  // Eliminar una canción de la playlist\n  removeSong(song) {\n    const confirmDelete = window.confirm(`¿Estás seguro de que deseas eliminar la canción \"${song.title}\"?`);\n    if (confirmDelete) {\n      console.log('Eliminando canción:', song);\n      this.playlistService.removeSongFromPlaylist(this.playlist.id, song.id).subscribe(response => {\n        this.fetchPlaylist(this.playlistId); // Actualizar la playlist después de eliminar la canción\n      }, error => {\n        console.error('Error al eliminar la canción:', error);\n      });\n    }\n  }\n  // Play songs\n  playSong(song) {\n    try {\n      console.log('Canción seleccionada para reproducir:', song);\n      this.mediaService.setCurrentSong({\n        ...song,\n        songs: this.playlist.songs\n      });\n      this.selectedSong = {\n        ...song,\n        songs: this.playlist.songs\n      };\n      console.log('Canción seleccionada:', this.selectedSong);\n    } catch (error) {\n      console.error('Error playing song:', error);\n    }\n  }\n  // Calcular la duración total en segundos\n  formatHH_MM_SS(songs) {\n    let totalSeconds = 0;\n    // Iterar sobre todas las canciones y sumar sus duraciones\n    songs.forEach(song => {\n      const durationParts = song.duration.split(':'); // Separar la duración en partes (hh:mm:ss)\n      const hours = parseInt(durationParts[0], 10);\n      const minutes = parseInt(durationParts[1], 10);\n      const seconds = parseInt(durationParts[2], 10);\n      // Convertir la duración a segundos y sumar al total\n      totalSeconds += hours * 3600 + minutes * 60 + seconds;\n    });\n    return totalSeconds;\n  }\n  // Función para formatear la duración a mm:ss\n  formatMM_SS(duration) {\n    const durationParts = duration.split(':'); // Separar la duración en partes (hh:mm:ss)\n    const minutes = parseInt(durationParts[1], 10);\n    const seconds = parseInt(durationParts[2], 10);\n    // Formatear los componentes en mm:ss\n    const formattedMinutes = ('0' + minutes).slice(-2);\n    const formattedSeconds = ('0' + seconds).slice(-2);\n    return `${formattedMinutes}:${formattedSeconds}`;\n  }\n  // Función para formatear la duración total en hh:mm:ss\n  formatDuration(totalSeconds) {\n    const hours = Math.floor(totalSeconds / 3600);\n    const remainingMinutes = Math.floor(totalSeconds % 3600 / 60);\n    const remainingSeconds = totalSeconds % 60;\n    // Formatear los componentes en hh:mm:ss\n    const formattedHours = ('0' + hours).slice(-2);\n    const formattedMinutes = ('0' + remainingMinutes).slice(-2);\n    const formattedSeconds = ('0' + remainingSeconds).slice(-2);\n    return `${formattedHours}:${formattedMinutes}:${formattedSeconds}`;\n  }\n  static #_ = this.ɵfac = function SongsPlaylistComponent_Factory(t) {\n    return new (t || SongsPlaylistComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.PlaylistService), i0.ɵɵdirectiveInject(i3.MediaService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: SongsPlaylistComponent,\n    selectors: [[\"app-songs-playlist\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"content\"], [\"class\", \"container\", 4, \"ngIf\"], [3, \"selectedSong\", \"songs\", \"showControls\", \"mediaType\", 4, \"ngIf\"], [1, \"container\"], [1, \"content-a\"], [1, \"content__details\"], [\"alt\", \"Playlist Cover\", 1, \"content_details_cover\", 3, \"src\"], [1, \"album-info\"], [\"class\", \"list-songs\", 4, \"ngIf\"], [1, \"list-songs\"], [1, \"row\", \"table_header\"], [1, \"col\"], [1, \"fas\", \"fa-heart\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [1, \"row\"], [1, \"col\", \"position-relative\"], [1, \"button\", \"button--primary\", \"button-play\", 3, \"click\"], [1, \"glyphicon\", \"glyphicon-play\"], [1, \"glyphicon\", \"glyphicon-heart\"], [1, \"btn\", \"btn-danger\", 3, \"click\"], [1, \"fas\", \"fa-minus-circle\"], [3, \"selectedSong\", \"songs\", \"showControls\", \"mediaType\"]],\n    template: function SongsPlaylistComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, SongsPlaylistComponent_div_1_Template, 10, 4, \"div\", 1);\n        i0.ɵɵelementStart(2, \"div\");\n        i0.ɵɵtemplate(3, SongsPlaylistComponent_app_player_controls_3_Template, 1, 4, \"app-player-controls\", 2);\n        i0.ɵɵelementEnd()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.playlist);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngIf\", ctx.selectedSong);\n      }\n    },\n    dependencies: [i4.NgForOf, i4.NgIf, i5.PlayerControlsComponent],\n    styles: [\".content[_ngcontent-%COMP%]{\\n    height: 1000px;\\n    background-color: black;\\n    width: 100%;\\n}\\n.container[_ngcontent-%COMP%] {\\n    background-color: #d9d9d933;\\n    font-size: 16px;\\n    font-family: 'Poppins', sans-serif;\\n    padding: 80px;\\n    color: white;\\n    font-weight: bold;\\n    height: auto;\\n    margin-top: 40px;\\n}\\n\\n.content-a[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    color: #333;\\n    font-weight: bold;\\n    margin-bottom: 20px;\\n}\\n\\n.content__details[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n    margin-right: auto;\\n    font-family: 'Poppins', sans-serif;\\n    color: white;\\n    font-weight: bold;\\n}\\n\\n.content_details_cover[_ngcontent-%COMP%] {\\n    width: 250px;\\n    height: 250px;\\n    margin-right: 20px;\\n    color: white;\\n}\\n\\n.button[_ngcontent-%COMP%] {\\n    border-radius: 4px;\\n    border: none;\\n    text-transform: uppercase;\\n    padding: 8px 16px;\\n    background-color: #5551FF;\\n    color: #5551FF;\\n    font-weight: bold;\\n    transition: background-color 0.3s ease;\\n    display: none;\\n}\\n\\n.button[_ngcontent-%COMP%]:hover {\\n    background-color: #5551FF;\\n}\\n\\n.list-songs[_ngcontent-%COMP%] {\\n    display: flex;\\n    flex-direction: column;\\n    width: 100%;\\n    font-family: 'Poppins', sans-serif;\\n}\\n.list-songs[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{\\n    text-decoration: none;\\n    color: white; \\n}\\n\\n.row[_ngcontent-%COMP%] {\\n    display: flex;\\n    width: 100%;\\n    padding: 10px 0;\\n    border-bottom: 1px solid #333;\\n    align-items: center;\\n    font-size: 14px;\\n    width: 1000px;\\n}\\n\\n.col[_ngcontent-%COMP%] {\\n    flex: 1;\\n    padding: 0 5px;\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    width: 90px;\\n}\\n\\n.col[_ngcontent-%COMP%]:nth-child(1):hover   .button[_ngcontent-%COMP%] {\\n    display: inline-block;\\n}\\n\\n.song-title[_ngcontent-%COMP%] {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    white-space: nowrap;\\n    color: white;\\n    font-weight: bold;\\n    position: relative;\\n}\\n\\n.glyphicon[_ngcontent-%COMP%] {\\n    font-size: 20px;\\n    cursor: pointer;\\n}\\n\\n.glyphicon-heart-empty[_ngcontent-%COMP%] {\\n    color: grey;\\n}\\n\\n.glyphicon-heart[_ngcontent-%COMP%] {\\n    color: #5551FF;\\n}\\n\\n.button[_ngcontent-%COMP%] {\\n    background-color: transparent;\\n    border: none;\\n    cursor: pointer;\\n    position: relative; \\n    top: 1%; \\n    transform: translateY(-3%); \\n    right: 15px; \\n}\\n\\n\\n.button[_ngcontent-%COMP%] {\\n    border-radius: 999px;\\n    border: none;\\n    text-transform: uppercase;\\n    padding: 0.5rem 1rem;\\n}\\n\\n.button--primary[_ngcontent-%COMP%] {\\n    background-color: #5551FF;\\n    color: white;\\n    border-radius: 999px;\\n    border: none;\\n    text-transform: uppercase;\\n    padding: 0.5rem 1rem;\\n}\\n.spotify-player[_ngcontent-%COMP%] {\\n    width: 300px;\\n    background-color: #333;\\n    padding: 10px;\\n    border-radius: 5px;\\n}\\n\\n.controls[_ngcontent-%COMP%] {\\n    display: flex;\\n    align-items: center;\\n}\\n\\n.control-btn[_ngcontent-%COMP%] {\\n    width: 30px;\\n    height: 30px;\\n    border: none;\\n    background-color: transparent;\\n    cursor: pointer;\\n}\\n\\n.progress-bar[_ngcontent-%COMP%] {\\n    flex: 1;\\n    height: 5px;\\n    background-color: #888;\\n    margin: 0 10px;\\n    position: relative;\\n}\\n\\n.progress[_ngcontent-%COMP%] {\\n    height: 100%;\\n    background-color: #1db954;\\n    position: absolute;\\n    top: 0;\\n    left: 0;\\n}\\n\\n.time[_ngcontent-%COMP%] {\\n    color: #fff;\\n}\\n\\n.button2[_ngcontent-%COMP%]{\\n    border-radius: 999px;\\n    border: none;\\n    text-transform: uppercase;\\n    padding: 0.5rem 1rem;\\n    right: 15px; \\n\\n}\\n\\n.tituloAlbum[_ngcontent-%COMP%]{\\n    font-size: 30px;\\n    font-family: 'Poppins', sans-serif;\\n    color: white;\\n    font-weight: bold;\\n}\\n.album-info[_ngcontent-%COMP%]{\\n    font-size: 15px;\\n    font-family: 'Poppins', sans-serif;\\n    color: white;\\n    font-weight: bold;\\n}\\n\\n.album-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{\\n    font-family: 'Poppins', sans-serif;\\n    color: white;\\n    font-weight: bold\\n}\\n\\nh2[_ngcontent-%COMP%]{\\n    font-family: 'Poppins', sans-serif;\\n    color: white;\\n    font-weight: bold;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9wbGF5bGlzdC9zb25ncy1wbGF5bGlzdC9zb25ncy1wbGF5bGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksY0FBYztJQUNkLHVCQUF1QjtJQUN2QixXQUFXO0FBQ2Y7QUFDQTtJQUNJLDJCQUEyQjtJQUMzQixlQUFlO0lBQ2Ysa0NBQWtDO0lBQ2xDLGFBQWE7SUFDYixZQUFZO0lBQ1osaUJBQWlCO0lBQ2pCLFlBQVk7SUFDWixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLFdBQVc7SUFDWCxpQkFBaUI7SUFDakIsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixrQkFBa0I7SUFDbEIsa0NBQWtDO0lBQ2xDLFlBQVk7SUFDWixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGtCQUFrQjtJQUNsQixZQUFZO0FBQ2hCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLHlCQUF5QjtJQUN6QixjQUFjO0lBQ2QsaUJBQWlCO0lBQ2pCLHNDQUFzQztJQUN0QyxhQUFhO0FBQ2pCOztBQUVBO0lBQ0kseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksYUFBYTtJQUNiLHNCQUFzQjtJQUN0QixXQUFXO0lBQ1gsa0NBQWtDO0FBQ3RDO0FBQ0E7SUFDSSxxQkFBcUI7SUFDckIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLGFBQWE7SUFDYixXQUFXO0lBQ1gsZUFBZTtJQUNmLDZCQUE2QjtJQUM3QixtQkFBbUI7SUFDbkIsZUFBZTtJQUNmLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxPQUFPO0lBQ1AsY0FBYztJQUNkLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLFdBQVc7QUFDZjs7QUFFQTtJQUNJLHFCQUFxQjtBQUN6Qjs7QUFFQTtJQUNJLGdCQUFnQjtJQUNoQix1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLFlBQVk7SUFDWixpQkFBaUI7SUFDakIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxXQUFXO0FBQ2Y7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksNkJBQTZCO0lBQzdCLFlBQVk7SUFDWixlQUFlO0lBQ2Ysa0JBQWtCO0lBQ2xCLE9BQU87SUFDUCwwQkFBMEI7SUFDMUIsV0FBVztBQUNmOzs7QUFHQTtJQUNJLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLG9CQUFvQjtBQUN4Qjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixZQUFZO0lBQ1osb0JBQW9CO0lBQ3BCLFlBQVk7SUFDWix5QkFBeUI7SUFDekIsb0JBQW9CO0FBQ3hCO0FBQ0E7SUFDSSxZQUFZO0lBQ1osc0JBQXNCO0lBQ3RCLGFBQWE7SUFDYixrQkFBa0I7QUFDdEI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0FBQ3ZCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixZQUFZO0lBQ1osNkJBQTZCO0lBQzdCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxPQUFPO0lBQ1AsV0FBVztJQUNYLHNCQUFzQjtJQUN0QixjQUFjO0lBQ2Qsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksWUFBWTtJQUNaLHlCQUF5QjtJQUN6QixrQkFBa0I7SUFDbEIsTUFBTTtJQUNOLE9BQU87QUFDWDs7QUFFQTtJQUNJLFdBQVc7QUFDZjs7QUFFQTtJQUNJLG9CQUFvQjtJQUNwQixZQUFZO0lBQ1oseUJBQXlCO0lBQ3pCLG9CQUFvQjtJQUNwQixXQUFXOztBQUVmOztBQUVBO0lBQ0ksZUFBZTtJQUNmLGtDQUFrQztJQUNsQyxZQUFZO0lBQ1osaUJBQWlCO0FBQ3JCO0FBQ0E7SUFDSSxlQUFlO0lBQ2Ysa0NBQWtDO0lBQ2xDLFlBQVk7SUFDWixpQkFBaUI7QUFDckI7O0FBRUE7SUFDSSxrQ0FBa0M7SUFDbEMsWUFBWTtJQUNaO0FBQ0o7O0FBRUE7SUFDSSxrQ0FBa0M7SUFDbEMsWUFBWTtJQUNaLGlCQUFpQjtBQUNyQiIsInNvdXJjZXNDb250ZW50IjpbIi5jb250ZW50e1xyXG4gICAgaGVpZ2h0OiAxMDAwcHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiBibGFjaztcclxuICAgIHdpZHRoOiAxMDAlO1xyXG59XHJcbi5jb250YWluZXIge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI2Q5ZDlkOTMzO1xyXG4gICAgZm9udC1zaXplOiAxNnB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICAgIHBhZGRpbmc6IDgwcHg7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGhlaWdodDogYXV0bztcclxuICAgIG1hcmdpbi10b3A6IDQwcHg7XHJcbn1cclxuXHJcbi5jb250ZW50LWEge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBjb2xvcjogIzMzMztcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgbWFyZ2luLWJvdHRvbTogMjBweDtcclxufVxyXG5cclxuLmNvbnRlbnRfX2RldGFpbHMge1xyXG4gICAgZGlzcGxheTogZmxleDtcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IGF1dG87XHJcbiAgICBmb250LWZhbWlseTogJ1BvcHBpbnMnLCBzYW5zLXNlcmlmO1xyXG4gICAgY29sb3I6IHdoaXRlO1xyXG4gICAgZm9udC13ZWlnaHQ6IGJvbGQ7XHJcbn1cclxuXHJcbi5jb250ZW50X2RldGFpbHNfY292ZXIge1xyXG4gICAgd2lkdGg6IDI1MHB4O1xyXG4gICAgaGVpZ2h0OiAyNTBweDtcclxuICAgIG1hcmdpbi1yaWdodDogMjBweDtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxufVxyXG5cclxuLmJ1dHRvbiB7XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgcGFkZGluZzogOHB4IDE2cHg7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1MUZGO1xyXG4gICAgY29sb3I6ICM1NTUxRkY7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4zcyBlYXNlO1xyXG4gICAgZGlzcGxheTogbm9uZTtcclxufVxyXG5cclxuLmJ1dHRvbjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNTU1MUZGO1xyXG59XHJcblxyXG4ubGlzdC1zb25ncyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxufVxyXG4ubGlzdC1zb25ncyBhe1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgY29sb3I6IHdoaXRlOyBcclxufVxyXG5cclxuLnJvdyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICBwYWRkaW5nOiAxMHB4IDA7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMzMztcclxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICB3aWR0aDogMTAwMHB4O1xyXG59XHJcblxyXG4uY29sIHtcclxuICAgIGZsZXg6IDE7XHJcbiAgICBwYWRkaW5nOiAwIDVweDtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICB3aWR0aDogOTBweDtcclxufVxyXG5cclxuLmNvbDpudGgtY2hpbGQoMSk6aG92ZXIgLmJ1dHRvbiB7XHJcbiAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XHJcbn1cclxuXHJcbi5zb25nLXRpdGxlIHtcclxuICAgIG92ZXJmbG93OiBoaWRkZW47XHJcbiAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcclxuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxufVxyXG5cclxuLmdseXBoaWNvbiB7XHJcbiAgICBmb250LXNpemU6IDIwcHg7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5nbHlwaGljb24taGVhcnQtZW1wdHkge1xyXG4gICAgY29sb3I6IGdyZXk7XHJcbn1cclxuXHJcbi5nbHlwaGljb24taGVhcnQge1xyXG4gICAgY29sb3I6ICM1NTUxRkY7XHJcbn1cclxuXHJcbi5idXR0b24ge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBib3JkZXI6IG5vbmU7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7IFxyXG4gICAgdG9wOiAxJTsgXHJcbiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTMlKTsgXHJcbiAgICByaWdodDogMTVweDsgXHJcbn1cclxuXHJcblxyXG4uYnV0dG9uIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xyXG59XHJcblxyXG4uYnV0dG9uLS1wcmltYXJ5IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICM1NTUxRkY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA5OTlweDtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7XHJcbiAgICBwYWRkaW5nOiAwLjVyZW0gMXJlbTtcclxufVxyXG4uc3BvdGlmeS1wbGF5ZXIge1xyXG4gICAgd2lkdGg6IDMwMHB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcclxuICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1cHg7XHJcbn1cclxuXHJcbi5jb250cm9scyB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxufVxyXG5cclxuLmNvbnRyb2wtYnRuIHtcclxuICAgIHdpZHRoOiAzMHB4O1xyXG4gICAgaGVpZ2h0OiAzMHB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbn1cclxuXHJcbi5wcm9ncmVzcy1iYXIge1xyXG4gICAgZmxleDogMTtcclxuICAgIGhlaWdodDogNXB4O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzg4ODtcclxuICAgIG1hcmdpbjogMCAxMHB4O1xyXG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG59XHJcblxyXG4ucHJvZ3Jlc3Mge1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzFkYjk1NDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHRvcDogMDtcclxuICAgIGxlZnQ6IDA7XHJcbn1cclxuXHJcbi50aW1lIHtcclxuICAgIGNvbG9yOiAjZmZmO1xyXG59XHJcblxyXG4uYnV0dG9uMntcclxuICAgIGJvcmRlci1yYWRpdXM6IDk5OXB4O1xyXG4gICAgYm9yZGVyOiBub25lO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxuICAgIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xyXG4gICAgcmlnaHQ6IDE1cHg7IFxyXG5cclxufVxyXG5cclxuLnRpdHVsb0FsYnVte1xyXG4gICAgZm9udC1zaXplOiAzMHB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbi5hbGJ1bS1pbmZve1xyXG4gICAgZm9udC1zaXplOiAxNXB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjtcclxuICAgIGNvbG9yOiB3aGl0ZTtcclxuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcblxyXG4uYWxidW0taW5mbyBoMXtcclxuICAgIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZFxyXG59XHJcblxyXG5oMntcclxuICAgIGZvbnQtZmFtaWx5OiAnUG9wcGlucycsIHNhbnMtc2VyaWY7XHJcbiAgICBjb2xvcjogd2hpdGU7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵlistener","SongsPlaylistComponent_div_1_div_9_div_13_Template_button_click_3_listener","restoredCtx","ɵɵrestoreView","_r7","song_r4","$implicit","ctx_r6","ɵɵnextContext","ɵɵresetView","playSong","ɵɵelement","ɵɵelementEnd","SongsPlaylistComponent_div_1_div_9_div_13_Template_button_click_14_listener","ctx_r8","removeSong","ɵɵadvance","ɵɵtextInterpolate1","i_r5","ɵɵtextInterpolate","title","artist","artistName","ctx_r3","formatMM_SS","duration","ɵɵtemplate","SongsPlaylistComponent_div_1_div_9_div_13_Template","ɵɵproperty","ctx_r2","playlist","songs","SongsPlaylistComponent_div_1_div_9_Template","ctx_r0","coverImage","ɵɵsanitizeUrl","playlistName","formatDuration","totalDurationInSeconds","length","ctx_r1","selectedSong","showPlayerControls","SongsPlaylistComponent","constructor","route","playlistService","mediaService","ngOnInit","paramMap","subscribe","params","playlistId","get","fetchPlaylist","currentSong$","song","getPlaylist","data","id","totalDuration","map","audio","formatHH_MM_SS","error","console","confirmDelete","window","confirm","log","removeSongFromPlaylist","response","setCurrentSong","totalSeconds","forEach","durationParts","split","hours","parseInt","minutes","seconds","formattedMinutes","slice","formattedSeconds","Math","floor","remainingMinutes","remainingSeconds","formattedHours","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","PlaylistService","i3","MediaService","_2","selectors","decls","vars","consts","template","SongsPlaylistComponent_Template","rf","ctx","SongsPlaylistComponent_div_1_Template","SongsPlaylistComponent_app_player_controls_3_Template"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\playlist\\songs-playlist\\songs-playlist.component.ts","C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\playlist\\songs-playlist\\songs-playlist.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { PlaylistService } from 'src/app/Services/Playlist/playlist.service';\r\nimport { MediaService } from 'src/app/Services/player-control/media.service';\r\n\r\n@Component({\r\n  selector: 'app-songs-playlist',\r\n  templateUrl: './songs-playlist.component.html',\r\n  styleUrls: ['./songs-playlist.component.css'],\r\n})\r\nexport class SongsPlaylistComponent implements OnInit {\r\n  playlistId: number | undefined;\r\n  selectedSong: any = null;\r\n  playlist: any;\r\n  totalDurationInSeconds: number = 0;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private playlistService: PlaylistService,\r\n    private mediaService: MediaService\r\n  ) {}\r\n\r\n  ngOnInit() {\r\n    this.route.paramMap.subscribe((params) => {\r\n      this.playlistId = +params.get('playlistId');\r\n      if (this.playlistId) {\r\n        this.fetchPlaylist(this.playlistId);\r\n      }\r\n    });\r\n\r\n    this.mediaService.currentSong$.subscribe((song) => {\r\n      this.selectedSong = song;\r\n    });\r\n  }\r\n\r\n  // Fetch playlist by playlistId\r\n  fetchPlaylist(playlistId: number) {\r\n    this.playlistService.getPlaylist(playlistId).subscribe(\r\n      (data: any) => {\r\n        this.playlist = {\r\n          id: data.id,\r\n          playlistName: data.playlistName,\r\n          coverImage: data.coverImage,\r\n          totalDuration: data.totalDuration,\r\n          songs: data.songs.map((song: any) => ({\r\n            id: song.id,\r\n            title: song.title,\r\n            duration: song.duration,\r\n            audio: song.audio,\r\n            artist: {\r\n              artistName: song.artist.artistName,\r\n              coverImage: song.artist.coverImage,\r\n            },\r\n          })),\r\n        };\r\n        // Calcular la duración total en segundos\r\n        this.totalDurationInSeconds = this.formatHH_MM_SS(this.playlist.songs);\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching playlist:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // Eliminar una canción de la playlist\r\n  removeSong(song: any) {\r\n    const confirmDelete = window.confirm(\r\n      `¿Estás seguro de que deseas eliminar la canción \"${song.title}\"?`\r\n    );\r\n\r\n    if (confirmDelete) {\r\n      console.log('Eliminando canción:', song);\r\n\r\n      this.playlistService\r\n        .removeSongFromPlaylist(this.playlist.id, song.id)\r\n        .subscribe(\r\n          (response) => {\r\n            this.fetchPlaylist(this.playlistId); // Actualizar la playlist después de eliminar la canción\r\n          },\r\n          (error) => {\r\n            console.error('Error al eliminar la canción:', error);\r\n          }\r\n        );\r\n    }\r\n  }\r\n\r\n  // Play songs\r\n  playSong(song: any) {\r\n    try {\r\n      console.log('Canción seleccionada para reproducir:', song);\r\n      this.mediaService.setCurrentSong({ ...song, songs: this.playlist.songs });\r\n      this.selectedSong = { ...song, songs: this.playlist.songs };\r\n      console.log('Canción seleccionada:', this.selectedSong);\r\n    } catch (error) {\r\n      console.error('Error playing song:', error);\r\n    }\r\n  }\r\n\r\n  // Calcular la duración total en segundos\r\n  formatHH_MM_SS(songs: any[]): number {\r\n    let totalSeconds = 0;\r\n\r\n    // Iterar sobre todas las canciones y sumar sus duraciones\r\n    songs.forEach((song) => {\r\n      const durationParts = song.duration.split(':'); // Separar la duración en partes (hh:mm:ss)\r\n      const hours = parseInt(durationParts[0], 10);\r\n      const minutes = parseInt(durationParts[1], 10);\r\n      const seconds = parseInt(durationParts[2], 10);\r\n\r\n      // Convertir la duración a segundos y sumar al total\r\n      totalSeconds += hours * 3600 + minutes * 60 + seconds;\r\n    });\r\n\r\n    return totalSeconds;\r\n  }\r\n\r\n  // Función para formatear la duración a mm:ss\r\n  formatMM_SS(duration: string): string {\r\n    const durationParts = duration.split(':'); // Separar la duración en partes (hh:mm:ss)\r\n    const minutes = parseInt(durationParts[1], 10);\r\n    const seconds = parseInt(durationParts[2], 10);\r\n\r\n    // Formatear los componentes en mm:ss\r\n    const formattedMinutes = ('0' + minutes).slice(-2);\r\n    const formattedSeconds = ('0' + seconds).slice(-2);\r\n\r\n    return `${formattedMinutes}:${formattedSeconds}`;\r\n  }\r\n\r\n  // Función para formatear la duración total en hh:mm:ss\r\n  formatDuration(totalSeconds: number): string {\r\n    const hours = Math.floor(totalSeconds / 3600);\r\n    const remainingMinutes = Math.floor((totalSeconds % 3600) / 60);\r\n    const remainingSeconds = totalSeconds % 60;\r\n\r\n    // Formatear los componentes en hh:mm:ss\r\n    const formattedHours = ('0' + hours).slice(-2);\r\n    const formattedMinutes = ('0' + remainingMinutes).slice(-2);\r\n    const formattedSeconds = ('0' + remainingSeconds).slice(-2);\r\n\r\n    return `${formattedHours}:${formattedMinutes}:${formattedSeconds}`;\r\n  }\r\n}\r\n","<div class=\"content\">\r\n  <div class=\"container\" *ngIf=\"playlist\">\r\n    <!-- Información sobre la playlist seleccionada -->\r\n    <section class=\"content-a\">\r\n      <header class=\"content__details\">\r\n        <img class=\"content_details_cover\" [src]=\"playlist.coverImage\" alt=\"Playlist Cover\">\r\n\r\n        <div class=\"album-info\">\r\n          <h1>{{ playlist.playlistName }}</h1>\r\n          <p>Duración total: {{ formatDuration(totalDurationInSeconds) }}</p>\r\n        </div>\r\n      </header>\r\n    </section>\r\n\r\n    <!-- Lista de canciones de la playlist -->\r\n    <div class=\"list-songs\" *ngIf=\"playlist.songs && playlist.songs.length > 0\">\r\n      <div class=\"row table_header\">\r\n        <div class=\"col\">#</div>\r\n        <div class=\"col\">Título</div>\r\n        <div class=\"col\">Artista</div>\r\n        <div class=\"col\">Duración</div>\r\n        <div class=\"col\">\r\n          <i class=\"fas fa-heart\"></i>\r\n        </div>\r\n        <div class=\"col\"></div>\r\n      </div>\r\n\r\n      <div *ngFor=\"let song of playlist.songs; let i = index\" class=\"row\">\r\n        <div class=\"col position-relative\">{{ i + 1 }}\r\n          <!-- Play button for each song -->\r\n          <button (click)=\"playSong(song)\" class=\"button button--primary button-play\">\r\n            <span class=\"glyphicon glyphicon-play\"></span>\r\n          </button>\r\n        </div>\r\n        <div class=\"col\">{{ song.title }}</div>\r\n        <div class=\"col\">{{ song.artist?.artistName }}</div>\r\n        <div class=\"col\">{{ formatMM_SS(song.duration) }}</div>\r\n        <div class=\"col\">\r\n          <span class=\"glyphicon glyphicon-heart\"></span>\r\n        </div>\r\n\r\n        <div class=\"col\">\r\n          <!-- Botón para eliminar la canción -->\r\n          <button class=\"btn btn-danger\" (click)=\"removeSong(song)\">\r\n            <i class=\"fas fa-minus-circle\"></i> <!-- Ícono de menos para eliminar -->\r\n          </button>\r\n        </div>\r\n\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <div>\r\n    <app-player-controls *ngIf=\"selectedSong\" [selectedSong]=\"selectedSong\" [songs]=\"playlist?.songs\"\r\n    [showControls]=\"showPlayerControls\" [mediaType]=\"'audio'\">\r\n  </app-player-controls>\r\n  </div>\r\n  \r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}