{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/Services/Artists/artists.service\";\nimport * as i3 from \"src/app/Services/Album/album.service\";\nimport * as i4 from \"@angular/common\";\nfunction ArtistComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"img\", 3);\n    i0.ɵɵlistener(\"click\", function ArtistComponent_div_3_Template_img_click_1_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r3);\n      const artist_r1 = restoredCtx.$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.navigateToAlbum(artist_r1.id));\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"h3\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const artist_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", artist_r1.coverImage, i0.ɵɵsanitizeUrl)(\"alt\", artist_r1.artistName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(artist_r1.artistName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(artist_r1.description);\n  }\n}\nexport class ArtistComponent {\n  constructor(route, router, artistService, albumService // Añadir el AlbumService\n  ) {\n    this.route = route;\n    this.router = router;\n    this.artistService = artistService;\n    this.albumService = albumService;\n    this.artists = [];\n    this.artistSelected = '';\n  }\n  ngOnInit() {\n    this.loadArtists();\n  }\n  loadArtists() {\n    this.artistService.getArtists().subscribe(artists => {\n      this.artists = artists.map(artists => ({\n        id: artists.id,\n        artistName: artists.artistName,\n        description: artists.description,\n        coverImage: artists.coverImage\n      }));\n      // Establece artistSelected basado en el primer artista de la lista\n      this.artistSelected = this.artists[0]?.artistName;\n      const artistId = this.artists[0]?.id.toString();\n      this.fetchAlbumsByArtistId(artistId); // Llama al método para obtener los álbumes\n    }, error => {\n      console.error('Error al obtener artists:', error);\n    });\n  }\n  // Método para obtener los álbumes por ID del artista\n  fetchAlbumsByArtistId(artist_id) {\n    this.albumService.getAlbumByartist(artist_id).subscribe(data => {\n      this.coverImages = data.map(album => album.coverImage);\n    }, error => {\n      console.error('Error fetching albums:', error);\n    });\n  }\n  navigateToAlbum(artist_id) {\n    this.router.navigate(['/album', artist_id]);\n  }\n  static #_ = this.ɵfac = function ArtistComponent_Factory(t) {\n    return new (t || ArtistComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ArtistService), i0.ɵɵdirectiveInject(i3.AlbumService));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ArtistComponent,\n    selectors: [[\"app-artist\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"container\"], [\"class\", \"artist-item\", 4, \"ngFor\", \"ngForOf\"], [1, \"artist-item\"], [3, \"src\", \"alt\", \"click\"]],\n    template: function ArtistComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, ArtistComponent_div_3_Template, 6, 4, \"div\", 1);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.artistSelected);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.artists);\n      }\n    },\n    dependencies: [i4.NgForOf],\n    styles: [\".card[_ngcontent-%COMP%]{\\n    background-color: #1f1717;\\n    margin-left: 60px;\\n    border-radius: 3%;\\n    margin-top: 20px;\\n    transition: 0.3s ease-in-out;\\n    height: 380px;\\n}\\n\\n.frame[_ngcontent-%COMP%]{\\n    width: 220px; \\n    height: 182px; \\n    border-radius: 3%; \\n    margin-top: 10px; \\n    margin-bottom: 5px;\\n}\\n\\n.text-frame[_ngcontent-%COMP%]{\\n    width: 220px; height: 120px; border-radius: 3%; margin-bottom: 10px; text-align: justify;\\n}\\n\\nimg[_ngcontent-%COMP%]{\\n    width: 100%; height: 100%; border-radius: 3%;\\n}\\n\\nh4[_ngcontent-%COMP%]{\\n    color: white; font-weight: bold;\\n}\\np[_ngcontent-%COMP%]{\\n    color: #c0c0c0;\\n}\\n\\n\\n\\n.card[_ngcontent-%COMP%]:hover{\\n    background-color: #312424;\\n    transition: 0.2s ease-in-out;\\n    text-decoration: none; \\n\\n    cursor: default; \\n\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQ29tcG9uZW50cy9hcnRpc3QvYXJ0aXN0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSx5QkFBeUI7SUFDekIsaUJBQWlCO0lBQ2pCLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsNEJBQTRCO0lBQzVCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxZQUFZO0lBQ1osYUFBYTtJQUNiLGlCQUFpQjtJQUNqQixnQkFBZ0I7SUFDaEIsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksWUFBWSxFQUFFLGFBQWEsRUFBRSxpQkFBaUIsRUFBRSxtQkFBbUIsRUFBRSxtQkFBbUI7QUFDNUY7O0FBRUE7SUFDSSxXQUFXLEVBQUUsWUFBWSxFQUFFLGlCQUFpQjtBQUNoRDs7QUFFQTtJQUNJLFlBQVksRUFBRSxpQkFBaUI7QUFDbkM7QUFDQTtJQUNJLGNBQWM7QUFDbEI7Ozs7QUFJQTtJQUNJLHlCQUF5QjtJQUN6Qiw0QkFBNEI7SUFDNUIscUJBQXFCLEVBQUUsb0VBQW9FO0lBQzNGLGVBQWUsRUFBRSxnRUFBZ0U7QUFDckYiLCJzb3VyY2VzQ29udGVudCI6WyIuY2FyZHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMxZjE3MTc7XHJcbiAgICBtYXJnaW4tbGVmdDogNjBweDtcclxuICAgIGJvcmRlci1yYWRpdXM6IDMlO1xyXG4gICAgbWFyZ2luLXRvcDogMjBweDtcclxuICAgIHRyYW5zaXRpb246IDAuM3MgZWFzZS1pbi1vdXQ7XHJcbiAgICBoZWlnaHQ6IDM4MHB4O1xyXG59XHJcblxyXG4uZnJhbWV7XHJcbiAgICB3aWR0aDogMjIwcHg7IFxyXG4gICAgaGVpZ2h0OiAxODJweDsgXHJcbiAgICBib3JkZXItcmFkaXVzOiAzJTsgXHJcbiAgICBtYXJnaW4tdG9wOiAxMHB4OyBcclxuICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxufVxyXG5cclxuLnRleHQtZnJhbWV7XHJcbiAgICB3aWR0aDogMjIwcHg7IGhlaWdodDogMTIwcHg7IGJvcmRlci1yYWRpdXM6IDMlOyBtYXJnaW4tYm90dG9tOiAxMHB4OyB0ZXh0LWFsaWduOiBqdXN0aWZ5O1xyXG59XHJcblxyXG5pbWd7XHJcbiAgICB3aWR0aDogMTAwJTsgaGVpZ2h0OiAxMDAlOyBib3JkZXItcmFkaXVzOiAzJTtcclxufVxyXG5cclxuaDR7XHJcbiAgICBjb2xvcjogd2hpdGU7IGZvbnQtd2VpZ2h0OiBib2xkO1xyXG59XHJcbnB7XHJcbiAgICBjb2xvcjogI2MwYzBjMDtcclxufVxyXG5cclxuXHJcblxyXG4uY2FyZDpob3ZlcntcclxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMTI0MjQ7XHJcbiAgICB0cmFuc2l0aW9uOiAwLjJzIGVhc2UtaW4tb3V0O1xyXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOyAvKiBFc3RvIGVsaW1pbmEgZWwgc3VicmF5YWRvIGN1YW5kbyBwYXNhcyBlbCBtb3VzZSBzb2JyZSBlbCBlbmxhY2UgKi9cclxuICAgIGN1cnNvcjogZGVmYXVsdDsgLyogRXN0byBjYW1iaWEgZWwgY3Vyc29yIGN1YW5kbyBwYXNhcyBlbCBtb3VzZSBzb2JyZSBlbCBlbmxhY2UgKi9cclxufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","ArtistComponent_div_3_Template_img_click_1_listener","restoredCtx","ɵɵrestoreView","_r3","artist_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","navigateToAlbum","id","ɵɵelementEnd","ɵɵtext","ɵɵadvance","ɵɵproperty","coverImage","ɵɵsanitizeUrl","artistName","ɵɵtextInterpolate","description","ArtistComponent","constructor","route","router","artistService","albumService","artists","artistSelected","ngOnInit","loadArtists","getArtists","subscribe","map","artistId","toString","fetchAlbumsByArtistId","error","console","artist_id","getAlbumByartist","data","coverImages","album","navigate","_","ɵɵdirectiveInject","i1","ActivatedRoute","Router","i2","ArtistService","i3","AlbumService","_2","selectors","decls","vars","consts","template","ArtistComponent_Template","rf","ctx","ɵɵtemplate","ArtistComponent_div_3_Template"],"sources":["C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\artist\\artist.component.ts","C:\\Comercio\\version12\\musicsound\\front-end\\src\\app\\Components\\artist\\artist.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { Artist } from './artist.model';\r\nimport { AlbumService } from 'src/app/Services/Album/album.service';\r\nimport { ArtistService } from 'src/app/Services/Artists/artists.service';\r\nimport { catchError, throwError } from 'rxjs';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\n\r\n@Component({\r\n  selector: 'app-artist',\r\n  templateUrl: './artist.component.html',\r\n  styleUrls: ['./artist.component.css']\r\n})\r\nexport class ArtistComponent implements OnInit {\r\n\r\n  listOfArtist: Artist[];\r\n  artists: any[] = [];\r\n  artistSelected: string = '';\r\n  coverImages: any;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private artistService: ArtistService,\r\n    private albumService: AlbumService // Añadir el AlbumService\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.loadArtists();\r\n  }\r\n\r\n  loadArtists() {\r\n    this.artistService.getArtists().subscribe(\r\n      (artists: any[]) => {\r\n        this.artists = artists.map(artists => ({\r\n          id: artists.id,\r\n          artistName: artists.artistName,\r\n          description: artists.description,\r\n          coverImage: artists.coverImage,\r\n        }));\r\n        \r\n        // Establece artistSelected basado en el primer artista de la lista\r\n        this.artistSelected = this.artists[0]?.artistName;\r\n        const artistId = this.artists[0]?.id.toString();\r\n        this.fetchAlbumsByArtistId(artistId); // Llama al método para obtener los álbumes\r\n      },\r\n      (error) => {\r\n        console.error('Error al obtener artists:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  // Método para obtener los álbumes por ID del artista\r\n  fetchAlbumsByArtistId(artist_id: number) {\r\n    this.albumService.getAlbumByartist(artist_id).subscribe(\r\n      (data: any[]) => {\r\n        this.coverImages = data.map(album => album.coverImage);\r\n      },\r\n      (error) => {\r\n        console.error('Error fetching albums:', error);\r\n      }\r\n    );\r\n  }\r\n\r\n  navigateToAlbum(artist_id: string) {\r\n    this.router.navigate(['/album', artist_id]);\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n  <!-- Mostrar el artista seleccionado -->\r\n  <h2>{{ artistSelected }}</h2>\r\n\r\n  <!-- Lista de artistas -->\r\n  <div *ngFor=\"let artist of artists\" class=\"artist-item\">\r\n      <img [src]=\"artist.coverImage\" [alt]=\"artist.artistName\" (click)=\"navigateToAlbum(artist.id)\">\r\n      <h3>{{ artist.artistName }}</h3>\r\n      <p>{{ artist.description }}</p>\r\n  </div>\r\n</div>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}